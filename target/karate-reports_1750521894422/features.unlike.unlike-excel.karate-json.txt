{"failedCount":0,"prefixedPath":"classpath:features\/unlike\/unlike-excel.feature","packageQualifiedName":"features.unlike.unlike-excel","loopIndex":-1,"relativePath":"features\/unlike\/unlike-excel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":802100,"startTime":1750435462877,"endTime":1750435462878,"millis":0.8021,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"23:04:22.846 karate.env system property was: null \n"},{"result":{"nanos":7771300,"startTime":1750435462881,"endTime":1750435462889,"millis":7.7713,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:22.885 karate.env system property was: null \n"},{"result":{"nanos":37368100,"startTime":1750435462888,"endTime":1750435462925,"millis":37.3681,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def readExcel = read('classpath:utils\/read-excel.js')"}},{"result":{"nanos":13232100,"startTime":1750435462926,"endTime":1750435462939,"millis":13.2321,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def writeToExcel = read('classpath:utils\/write-excel.js')"}},{"result":{"nanos":972500,"startTime":1750435462940,"endTime":1750435462941,"millis":0.9725,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def excelFilePath = 'src\/test\/java\/data\/data.xlsx'"}},{"result":{"nanos":847800,"startTime":1750435462941,"endTime":1750435462942,"millis":0.8478,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def sheetName = 'unlike'"}},{"result":{"nanos":714501900,"startTime":1750435462942,"endTime":1750435463657,"millis":714.5019,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"def testData = readExcel(excelFilePath, sheetName)"},"stepLog":"23:04:23.590 Headers found: [\n  \"bearerToken\",\n  \"targetId\",\n  \"testDescription\",\n  \"expectedStatus\",\n  \"expectedResult\",\n  \"responseStatus\",\n  \"result\"\n]\n \n23:04:23.650 Read data from Excel: [\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n    \"testDescription\": \"Unlike post hợp lệ\",\n    \"expectedStatus\": 200.0,\n    \"expectedResult\": \"{\\\"message\\\": \\\"Unliked successfully\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.614Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"\",\n    \"testDescription\": \"Thiếu trường targetId\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"targetId is required\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.669Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"\",\n    \"testDescription\": \"targetId rỗng\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"targetId cannot be empty\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.693Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"NO_TOKEN\",\n    \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n    \"testDescription\": \"Thiếu token xác thực\",\n    \"expectedStatus\": 401.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Unauthorized\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.741Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"INVALID_TOKEN\",\n    \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n    \"testDescription\": \"Token không hợp lệ\",\n    \"expectedStatus\": 401.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Invalid or expired token\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.766Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"nonexistent-id-123\",\n    \"testDescription\": \"targetId không tồn tại\",\n    \"expectedStatus\": 404.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Target not found\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.790Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n    \"testDescription\": \"Chưa like trước đó\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Not liked yet\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.814Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"invalid_id!@#\",\n    \"testDescription\": \"targetId không hợp lệ format\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Invalid targetId format\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.834Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"target123' OR '1'='1\",\n    \"testDescription\": \"Kiểm tra SQL Injection trong targetId\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Invalid input\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.862Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"<script>alert(\\\"xss\\\")<\/script>\",\n    \"testDescription\": \"Kiểm tra XSS trong targetId\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Invalid input\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.890Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \" \",\n    \"testDescription\": \"Kiểm tra khoảng trắng trong targetId\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"targetId cannot contain only whitespace\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.917Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"NULL_VALUE\",\n    \"testDescription\": \"Kiểm tra trường null targetId\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"targetId cannot be null\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.937Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n    \"testDescription\": \"Kiểm tra độ dài targetId quá dài\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"targetId exceeds maximum length\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.966Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"target@#$%^&*()\",\n    \"testDescription\": \"Kiểm tra ký tự đặc biệt trong targetId\",\n    \"expectedStatus\": 400.0,\n    \"expectedResult\": \"{\\\"error\\\": \\\"Invalid targetId format\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.987Z\\\"}\"\n  },\n  {\n    \"bearerToken\": \"\",\n    \"targetId\": \"550e8400-e29b-41d4-a716-446655440000\",\n    \"testDescription\": \"Unlike với UUID hợp lệ khác\",\n    \"expectedStatus\": 200.0,\n    \"expectedResult\": \"{\\\"message\\\": \\\"Unliked successfully\\\"}\",\n    \"responseStatus\": \"404\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:59.007Z\\\"}\"\n  }\n]\n \n"},{"result":{"nanos":6669500,"startTime":1750435463656,"endTime":1750435463663,"millis":6.6695,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"print 'Đọc được ' + testData.length + ' test cases từ Excel sheet: ' + sheetName"},"stepLog":"23:04:23.663 [print] Đọc được 15 test cases từ Excel sheet: unlike \n"},{"result":{"nanos":15695600,"startTime":1750435463663,"endTime":1750435463679,"millis":15.6956,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":8,"text":"def testResults = []"}},{"result":{"nanos":1125200,"startTime":1750435463680,"endTime":1750435463681,"millis":1.1252,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":9,"text":"def globalBearerToken = config.bearerToken"}},{"result":{"nanos":1199700,"startTime":1750435463680,"endTime":1750435463681,"millis":1.1997,"status":"passed"},"step":{"background":true,"line":14,"prefix":"*","index":10,"text":"print 'Sử dụng global bearer token từ config:', globalBearerToken"},"stepLog":"23:04:23.681 [print] Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":8010400,"startTime":1750435463682,"endTime":1750435463690,"millis":8.0104,"status":"passed"},"step":{"endLine":79,"line":17,"prefix":"*","docString":"function(testCase, index) {\n  karate.log('Đang chạy test case #' + (index + 1) + ': ' + testCase.testDescription);\n        \n  var bearerToken = '';\n        \n  \/\/ Sử dụng bearer token từ test case hoặc global config\n  if (testCase.bearerToken && testCase.bearerToken.trim() !== '') {\n    if (testCase.bearerToken === 'NO_TOKEN') {\n      \/\/ TC4: Không có token\n      bearerToken = '';\n      karate.log('Test case không sử dụng token');\n    } else if (testCase.bearerToken === 'INVALID_TOKEN') {\n      \/\/ TC5: Token không hợp lệ\n      bearerToken = 'invalid_token_123';\n      karate.log('Test case sử dụng token không hợp lệ');\n    } else {\n      \/\/ Sử dụng token từ Excel nếu có\n      bearerToken = testCase.bearerToken;\n      karate.log('Sử dụng bearer token từ Excel:', bearerToken);\n    }\n  } else {\n    \/\/ Sử dụng global token từ config\n    bearerToken = globalBearerToken;\n    karate.log('Sử dụng global bearer token từ config:', bearerToken);\n  }\n        \n  \/\/ Gọi API unlike (type cố định là \"post\")\n  var response = karate.call('classpath:features\/helpers\/unlike-single-call.feature', {\n    bearerToken: bearerToken,\n    targetId: testCase.targetId || ''\n  });\n        \n  var actualStatus = response.actualStatus;\n  var actualResult = '';\n        \n  \/\/ Ghi response thực tế vào result\n  if (response.actualResponse) {\n    actualResult = JSON.stringify(response.actualResponse);\n  } else {\n    actualResult = 'No response body';\n  }\n        \n  \/\/ Kiểm tra xem kết quả có khớp với expected không (chỉ để log)\n  var isExpectedStatus = (actualStatus == testCase.expectedStatus);\n  if (!isExpectedStatus) {\n    karate.log('STATUS MISMATCH - Expected: ' + testCase.expectedStatus + ', Actual: ' + actualStatus);\n  }\n        \n  \/\/ Log chi tiết để debug\n  karate.log('Test Case Data:', testCase);\n  karate.log('Expected Status:', testCase.expectedStatus);\n  karate.log('Actual Status:', actualStatus);\n        \n  karate.log('Test case #' + (index + 1) + ' - Status: ' + actualStatus + ', Result: ' + actualResult);\n        \n  return {\n    responseStatus: actualStatus,\n    result: actualResult\n  };\n}","index":0,"text":"def runTest ="}},{"result":{"nanos":1116900,"startTime":1750435463689,"endTime":1750435463690,"millis":1.1169,"status":"passed"},"step":{"line":81,"prefix":"*","index":1,"text":"print 'Bắt đầu chạy từng test case...'"},"stepLog":"23:04:23.690 [print] Bắt đầu chạy từng test case... \n"},{"result":{"nanos":1705300300,"startTime":1750435463691,"endTime":1750435465396,"millis":1705.3003,"status":"passed"},"step":{"line":82,"prefix":"*","index":2,"text":"def results = karate.map(testData, runTest)"},"stepLog":"23:04:25.396 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"testDescription\": \"Unlike với UUID hợp lệ khác\",\n  \"expectedStatus\": 200.0,\n  \"expectedResult\": \"{\\\"message\\\": \\\"Unliked successfully\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:59.007Z\\\"}\"\n}\n \n23:04:25.396 Expected Status: 200.0 \n23:04:25.396 Actual Status: 200 \n23:04:25.396 Test case #15 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n","callResults":[{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":419.1788,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"c8161412-bc98-49ec-88ff-57b99cc2ce67"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4840200,"startTime":1750435463710,"endTime":1750435463715,"millis":4.8402,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:23.694 Đang chạy test case #1: Unlike post hợp lệ \n23:04:23.694 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:23.713 karate.env system property was: null \n"},{"result":{"nanos":611000,"startTime":1750435463716,"endTime":1750435463717,"millis":0.611,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":4461100,"startTime":1750435463716,"endTime":1750435463720,"millis":4.4611,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":2691200,"startTime":1750435463721,"endTime":1750435463724,"millis":2.6912,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":1020200,"startTime":1750435463724,"endTime":1750435463725,"millis":1.0202,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":285100,"startTime":1750435463725,"endTime":1750435463725,"millis":0.2851,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":401775600,"startTime":1750435463725,"endTime":1750435464127,"millis":401.7756,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.010 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 65\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.125 response time in milliseconds: 113\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":410700,"startTime":1750435464127,"endTime":1750435464127,"millis":0.4107,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":220400,"startTime":1750435464127,"endTime":1750435464127,"millis":0.2204,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":1147100,"startTime":1750435464127,"endTime":1750435464128,"millis":1.1471,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.129 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":793900,"startTime":1750435464129,"endTime":1750435464130,"millis":0.7939,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.129 [print] Request body: {\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":922300,"startTime":1750435464129,"endTime":1750435464130,"millis":0.9223,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.130 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":419.1788,"startTime":1750435463710,"failed":false,"refId":"[1:3]","endTime":1750435464130,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":72.0352,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":""},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4358000,"startTime":1750435464152,"endTime":1750435464156,"millis":4.358,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.142 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"testDescription\": \"Unlike post hợp lệ\",\n  \"expectedStatus\": 200.0,\n  \"expectedResult\": \"{\\\"message\\\": \\\"Unliked successfully\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.614Z\\\"}\"\n}\n \n23:04:24.142 Expected Status: 200.0 \n23:04:24.142 Actual Status: 200 \n23:04:24.143 Test case #1 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:24.143 Đang chạy test case #2: Thiếu trường targetId \n23:04:24.144 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.155 karate.env system property was: null \n"},{"result":{"nanos":627800,"startTime":1750435464156,"endTime":1750435464157,"millis":0.6278,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":876800,"startTime":1750435464157,"endTime":1750435464158,"millis":0.8768,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":534700,"startTime":1750435464158,"endTime":1750435464159,"millis":0.5347,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":510100,"startTime":1750435464159,"endTime":1750435464160,"millis":0.5101,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":137200,"startTime":1750435464159,"endTime":1750435464159,"millis":0.1372,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":62478600,"startTime":1750435464159,"endTime":1750435464221,"millis":62.4786,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.160 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 29\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.221 response time in milliseconds: 60\n1 < 404\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 135\n1 < ETag: W\/\"87-\/4lEP7joQvdR4FmMCs1eNnbCoRw\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 404,\n  \"message\": \"Không tìm thấy lượt thích\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.219Z\"\n}\n\n\n"},{"result":{"nanos":784500,"startTime":1750435464222,"endTime":1750435464223,"millis":0.7845,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":228500,"startTime":1750435464223,"endTime":1750435464223,"millis":0.2285,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":652600,"startTime":1750435464223,"endTime":1750435464224,"millis":0.6526,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.224 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":470500,"startTime":1750435464224,"endTime":1750435464224,"millis":0.4705,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.224 [print] Request body: {\n  \"targetId\": \"\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":375900,"startTime":1750435464224,"endTime":1750435464224,"millis":0.3759,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.225 [print] Response status: 404 body: {\n  \"success\": false,\n  \"statusCode\": 404,\n  \"message\": \"Không tìm thấy lượt thích\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.219Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":72.0352,"startTime":1750435464152,"failed":false,"refId":"[1:3]","endTime":1750435464225,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":65.2886,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":""},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2248500,"startTime":1750435464238,"endTime":1750435464240,"millis":2.2485,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.227 STATUS MISMATCH - Expected: 400, Actual: 404 \n23:04:24.229 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"\",\n  \"testDescription\": \"Thiếu trường targetId\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"targetId is required\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.669Z\\\"}\"\n}\n \n23:04:24.229 Expected Status: 400.0 \n23:04:24.229 Actual Status: 404 \n23:04:24.230 Test case #2 - Status: 404, Result: {\"success\":false,\"statusCode\":404,\"message\":\"Không tìm thấy lượt thích\",\"path\":\"\/likes\",\"timestamp\":\"2025-06-20T16:04:24.219Z\"} \n23:04:24.230 Đang chạy test case #3: targetId rỗng \n23:04:24.230 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.239 karate.env system property was: null \n"},{"result":{"nanos":279200,"startTime":1750435464241,"endTime":1750435464241,"millis":0.2792,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":769400,"startTime":1750435464241,"endTime":1750435464242,"millis":0.7694,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":523300,"startTime":1750435464242,"endTime":1750435464243,"millis":0.5233,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":364100,"startTime":1750435464243,"endTime":1750435464243,"millis":0.3641,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":166100,"startTime":1750435464243,"endTime":1750435464243,"millis":0.1661,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":59635800,"startTime":1750435464243,"endTime":1750435464303,"millis":59.6358,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.244 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 29\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.302 response time in milliseconds: 56\n1 < 404\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 135\n1 < ETag: W\/\"87-DOWzieEx0Usjy45R+5phq08\/N3w\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 404,\n  \"message\": \"Không tìm thấy lượt thích\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.300Z\"\n}\n\n\n"},{"result":{"nanos":192700,"startTime":1750435464302,"endTime":1750435464302,"millis":0.1927,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":127600,"startTime":1750435464303,"endTime":1750435464303,"millis":0.1276,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":427900,"startTime":1750435464303,"endTime":1750435464303,"millis":0.4279,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.303 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":242200,"startTime":1750435464303,"endTime":1750435464303,"millis":0.2422,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.304 [print] Request body: {\n  \"targetId\": \"\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":311800,"startTime":1750435464304,"endTime":1750435464304,"millis":0.3118,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.304 [print] Response status: 404 body: {\n  \"success\": false,\n  \"statusCode\": 404,\n  \"message\": \"Không tìm thấy lượt thích\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.300Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":65.2886,"startTime":1750435464238,"failed":false,"refId":"[1:3]","endTime":1750435464304,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":28.134,"callArg":{"bearerToken":"","targetId":"c8161412-bc98-49ec-88ff-57b99cc2ce67"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2610100,"startTime":1750435464314,"endTime":1750435464317,"millis":2.6101,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.305 STATUS MISMATCH - Expected: 400, Actual: 404 \n23:04:24.305 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"\",\n  \"testDescription\": \"targetId rỗng\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"targetId cannot be empty\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.693Z\\\"}\"\n}\n \n23:04:24.305 Expected Status: 400.0 \n23:04:24.305 Actual Status: 404 \n23:04:24.305 Test case #3 - Status: 404, Result: {\"success\":false,\"statusCode\":404,\"message\":\"Không tìm thấy lượt thích\",\"path\":\"\/likes\",\"timestamp\":\"2025-06-20T16:04:24.300Z\"} \n23:04:24.306 Đang chạy test case #4: Thiếu token xác thực \n23:04:24.306 Test case không sử dụng token \n23:04:24.315 karate.env system property was: null \n"},{"result":{"nanos":258700,"startTime":1750435464316,"endTime":1750435464316,"millis":0.2587,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":1953800,"startTime":1750435464317,"endTime":1750435464319,"millis":1.9538,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":14226400,"startTime":1750435464319,"endTime":1750435464333,"millis":14.2264,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":701300,"startTime":1750435464333,"endTime":1750435464334,"millis":0.7013,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":121000,"startTime":1750435464334,"endTime":1750435464334,"millis":0.121,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":6566000,"startTime":1750435464334,"endTime":1750435464341,"millis":6.566,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.335 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: #(Authorization)\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 65\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.340 response time in milliseconds: 5\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 114\n1 < ETag: W\/\"72-koQeXuNrdPxz+4dFaO6Rn9F9YtU\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Unauthorized\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.339Z\"\n}\n\n\n"},{"result":{"nanos":224400,"startTime":1750435464341,"endTime":1750435464341,"millis":0.2244,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":121900,"startTime":1750435464341,"endTime":1750435464341,"millis":0.1219,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":652400,"startTime":1750435464341,"endTime":1750435464342,"millis":0.6524,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.342 [print] Calling unlike API với bearerToken:  \n"},{"result":{"nanos":385600,"startTime":1750435464342,"endTime":1750435464342,"millis":0.3856,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.342 [print] Request body: {\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":312400,"startTime":1750435464342,"endTime":1750435464342,"millis":0.3124,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.342 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Unauthorized\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.339Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":28.134,"startTime":1750435464314,"failed":false,"refId":"[1:3]","endTime":1750435464342,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":10.7982,"callArg":{"bearerToken":"invalid_token_123","targetId":"c8161412-bc98-49ec-88ff-57b99cc2ce67"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2013400,"startTime":1750435464354,"endTime":1750435464356,"millis":2.0134,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.344 Test Case Data: {\n  \"bearerToken\": \"NO_TOKEN\",\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"testDescription\": \"Thiếu token xác thực\",\n  \"expectedStatus\": 401.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Unauthorized\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.741Z\\\"}\"\n}\n \n23:04:24.344 Expected Status: 401.0 \n23:04:24.344 Actual Status: 401 \n23:04:24.344 Test case #4 - Status: 401, Result: {\"success\":false,\"statusCode\":401,\"message\":\"Unauthorized\",\"path\":\"\/likes\",\"timestamp\":\"2025-06-20T16:04:24.339Z\"} \n23:04:24.345 Đang chạy test case #5: Token không hợp lệ \n23:04:24.346 Test case sử dụng token không hợp lệ \n23:04:24.355 karate.env system property was: null \n"},{"result":{"nanos":148900,"startTime":1750435464356,"endTime":1750435464356,"millis":0.1489,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":246100,"startTime":1750435464356,"endTime":1750435464356,"millis":0.2461,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":244100,"startTime":1750435464357,"endTime":1750435464357,"millis":0.2441,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":175400,"startTime":1750435464357,"endTime":1750435464357,"millis":0.1754,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":79500,"startTime":1750435464357,"endTime":1750435464357,"millis":0.0795,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":5704200,"startTime":1750435464357,"endTime":1750435464363,"millis":5.7042,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.358 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer invalid_token_123\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 65\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.363 response time in milliseconds: 3\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 114\n1 < ETag: W\/\"72-QafSqfuOdxADYfAbeQXMiI4JsZI\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Unauthorized\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.360Z\"\n}\n\n\n"},{"result":{"nanos":206900,"startTime":1750435464363,"endTime":1750435464363,"millis":0.2069,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":122700,"startTime":1750435464364,"endTime":1750435464364,"millis":0.1227,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":1002100,"startTime":1750435464364,"endTime":1750435464365,"millis":1.0021,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.364 [print] Calling unlike API với bearerToken: invalid_token_123 \n"},{"result":{"nanos":570500,"startTime":1750435464364,"endTime":1750435464365,"millis":0.5705,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.365 [print] Request body: {\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":284400,"startTime":1750435464365,"endTime":1750435464365,"millis":0.2844,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.365 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Unauthorized\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.360Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":10.7982,"startTime":1750435464354,"failed":false,"refId":"[1:3]","endTime":1750435464365,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":105.9105,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"nonexistent-id-123"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1686600,"startTime":1750435464374,"endTime":1750435464376,"millis":1.6866,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.367 Test Case Data: {\n  \"bearerToken\": \"INVALID_TOKEN\",\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"testDescription\": \"Token không hợp lệ\",\n  \"expectedStatus\": 401.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Invalid or expired token\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.766Z\\\"}\"\n}\n \n23:04:24.367 Expected Status: 401.0 \n23:04:24.367 Actual Status: 401 \n23:04:24.367 Test case #5 - Status: 401, Result: {\"success\":false,\"statusCode\":401,\"message\":\"Unauthorized\",\"path\":\"\/likes\",\"timestamp\":\"2025-06-20T16:04:24.360Z\"} \n23:04:24.368 Đang chạy test case #6: targetId không tồn tại \n23:04:24.368 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.375 karate.env system property was: null \n"},{"result":{"nanos":140600,"startTime":1750435464376,"endTime":1750435464376,"millis":0.1406,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":208900,"startTime":1750435464376,"endTime":1750435464376,"millis":0.2089,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":331700,"startTime":1750435464377,"endTime":1750435464377,"millis":0.3317,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":181300,"startTime":1750435464377,"endTime":1750435464377,"millis":0.1813,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":86400,"startTime":1750435464377,"endTime":1750435464377,"millis":0.0864,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":102048100,"startTime":1750435464377,"endTime":1750435464479,"millis":102.0481,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.378 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"nonexistent-id-123\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.478 response time in milliseconds: 100\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":193000,"startTime":1750435464480,"endTime":1750435464480,"millis":0.193,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":120600,"startTime":1750435464480,"endTime":1750435464480,"millis":0.1206,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":435500,"startTime":1750435464480,"endTime":1750435464480,"millis":0.4355,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.480 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":219900,"startTime":1750435464480,"endTime":1750435464480,"millis":0.2199,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.480 [print] Request body: {\n  \"targetId\": \"nonexistent-id-123\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":257900,"startTime":1750435464480,"endTime":1750435464480,"millis":0.2579,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.480 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":105.9105,"startTime":1750435464374,"failed":false,"refId":"[1:3]","endTime":1750435464480,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":72.6728,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"c8161412-bc98-49ec-88ff-57b99cc2ce67"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1760600,"startTime":1750435464489,"endTime":1750435464491,"millis":1.7606,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.482 STATUS MISMATCH - Expected: 404, Actual: 200 \n23:04:24.482 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"nonexistent-id-123\",\n  \"testDescription\": \"targetId không tồn tại\",\n  \"expectedStatus\": 404.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Target not found\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.790Z\\\"}\"\n}\n \n23:04:24.482 Expected Status: 404.0 \n23:04:24.482 Actual Status: 200 \n23:04:24.482 Test case #6 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:24.483 Đang chạy test case #7: Chưa like trước đó \n23:04:24.483 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.490 karate.env system property was: null \n"},{"result":{"nanos":150500,"startTime":1750435464490,"endTime":1750435464490,"millis":0.1505,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":226200,"startTime":1750435464490,"endTime":1750435464490,"millis":0.2262,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":242100,"startTime":1750435464492,"endTime":1750435464492,"millis":0.2421,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":180500,"startTime":1750435464492,"endTime":1750435464492,"millis":0.1805,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":62100,"startTime":1750435464492,"endTime":1750435464492,"millis":0.0621,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":68858300,"startTime":1750435464492,"endTime":1750435464561,"millis":68.8583,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.493 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 65\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.560 response time in milliseconds: 67\n1 < 404\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 135\n1 < ETag: W\/\"87-Z1lEht8A9wlrh2QhNv7khPhuxUY\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 404,\n  \"message\": \"Không tìm thấy lượt thích\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.558Z\"\n}\n\n\n"},{"result":{"nanos":139900,"startTime":1750435464561,"endTime":1750435464561,"millis":0.1399,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":83200,"startTime":1750435464561,"endTime":1750435464561,"millis":0.0832,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":500400,"startTime":1750435464561,"endTime":1750435464562,"millis":0.5004,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.561 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":184900,"startTime":1750435464561,"endTime":1750435464561,"millis":0.1849,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.561 [print] Request body: {\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":284100,"startTime":1750435464562,"endTime":1750435464562,"millis":0.2841,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.562 [print] Response status: 404 body: {\n  \"success\": false,\n  \"statusCode\": 404,\n  \"message\": \"Không tìm thấy lượt thích\",\n  \"path\": \"\/likes\",\n  \"timestamp\": \"2025-06-20T16:04:24.558Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":72.6728,"startTime":1750435464489,"failed":false,"refId":"[1:3]","endTime":1750435464562,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":94.1766,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"invalid_id!@#"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1695200,"startTime":1750435464569,"endTime":1750435464571,"millis":1.6952,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.562 STATUS MISMATCH - Expected: 400, Actual: 404 \n23:04:24.563 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"c8161412-bc98-49ec-88ff-57b99cc2ce67\",\n  \"testDescription\": \"Chưa like trước đó\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Not liked yet\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.814Z\\\"}\"\n}\n \n23:04:24.563 Expected Status: 400.0 \n23:04:24.563 Actual Status: 404 \n23:04:24.563 Test case #7 - Status: 404, Result: {\"success\":false,\"statusCode\":404,\"message\":\"Không tìm thấy lượt thích\",\"path\":\"\/likes\",\"timestamp\":\"2025-06-20T16:04:24.558Z\"} \n23:04:24.563 Đang chạy test case #8: targetId không hợp lệ format \n23:04:24.564 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.570 karate.env system property was: null \n"},{"result":{"nanos":157500,"startTime":1750435464571,"endTime":1750435464571,"millis":0.1575,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":193400,"startTime":1750435464571,"endTime":1750435464571,"millis":0.1934,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":297600,"startTime":1750435464571,"endTime":1750435464571,"millis":0.2976,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":182000,"startTime":1750435464571,"endTime":1750435464571,"millis":0.182,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":93400,"startTime":1750435464571,"endTime":1750435464571,"millis":0.0934,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":90537300,"startTime":1750435464571,"endTime":1750435464662,"millis":90.5373,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.572 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 42\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"invalid_id!@#\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.662 response time in milliseconds: 88\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":134000,"startTime":1750435464663,"endTime":1750435464663,"millis":0.134,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":81400,"startTime":1750435464663,"endTime":1750435464663,"millis":0.0814,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":398000,"startTime":1750435464663,"endTime":1750435464663,"millis":0.398,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.663 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":191800,"startTime":1750435464663,"endTime":1750435464663,"millis":0.1918,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.663 [print] Request body: {\n  \"targetId\": \"invalid_id!@#\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":215000,"startTime":1750435464663,"endTime":1750435464663,"millis":0.215,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.663 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":94.1766,"startTime":1750435464569,"failed":false,"refId":"[1:3]","endTime":1750435464663,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":89.2054,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"target123' OR '1'='1"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1702900,"startTime":1750435464670,"endTime":1750435464672,"millis":1.7029,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.664 STATUS MISMATCH - Expected: 400, Actual: 200 \n23:04:24.664 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"invalid_id!@#\",\n  \"testDescription\": \"targetId không hợp lệ format\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Invalid targetId format\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.834Z\\\"}\"\n}\n \n23:04:24.664 Expected Status: 400.0 \n23:04:24.664 Actual Status: 200 \n23:04:24.664 Test case #8 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:24.665 Đang chạy test case #9: Kiểm tra SQL Injection trong targetId \n23:04:24.665 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.672 karate.env system property was: null \n"},{"result":{"nanos":146400,"startTime":1750435464672,"endTime":1750435464672,"millis":0.1464,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":186800,"startTime":1750435464672,"endTime":1750435464672,"millis":0.1868,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":206000,"startTime":1750435464673,"endTime":1750435464673,"millis":0.206,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":163300,"startTime":1750435464673,"endTime":1750435464673,"millis":0.1633,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":49600,"startTime":1750435464673,"endTime":1750435464673,"millis":0.0496,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":85633200,"startTime":1750435464673,"endTime":1750435464759,"millis":85.6332,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.674 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 49\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"target123' OR '1'='1\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.759 response time in milliseconds: 84\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":158700,"startTime":1750435464759,"endTime":1750435464759,"millis":0.1587,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":95900,"startTime":1750435464759,"endTime":1750435464759,"millis":0.0959,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":379900,"startTime":1750435464759,"endTime":1750435464759,"millis":0.3799,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.759 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":207600,"startTime":1750435464759,"endTime":1750435464759,"millis":0.2076,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.760 [print] Request body: {\n  \"targetId\": \"target123' OR '1'='1\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":275100,"startTime":1750435464760,"endTime":1750435464760,"millis":0.2751,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.760 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":89.2054,"startTime":1750435464670,"failed":false,"refId":"[1:3]","endTime":1750435464760,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":89.3338,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"<script>alert(\"xss\")<\/script>"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1352300,"startTime":1750435464767,"endTime":1750435464768,"millis":1.3523,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.760 STATUS MISMATCH - Expected: 400, Actual: 200 \n23:04:24.761 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"target123' OR '1'='1\",\n  \"testDescription\": \"Kiểm tra SQL Injection trong targetId\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Invalid input\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.862Z\\\"}\"\n}\n \n23:04:24.761 Expected Status: 400.0 \n23:04:24.761 Actual Status: 200 \n23:04:24.761 Test case #9 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:24.761 Đang chạy test case #10: Kiểm tra XSS trong targetId \n23:04:24.762 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.768 karate.env system property was: null \n"},{"result":{"nanos":127300,"startTime":1750435464768,"endTime":1750435464768,"millis":0.1273,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":191200,"startTime":1750435464768,"endTime":1750435464768,"millis":0.1912,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":177300,"startTime":1750435464768,"endTime":1750435464768,"millis":0.1773,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":203100,"startTime":1750435464768,"endTime":1750435464768,"millis":0.2031,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":51000,"startTime":1750435464769,"endTime":1750435464769,"millis":0.051,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":86014700,"startTime":1750435464769,"endTime":1750435464855,"millis":86.0147,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.770 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 61\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"<script>alert(\\\"xss\\\")<\/script>\",\n  \"type\": \"post\"\n}\n\n\n23:04:24.855 response time in milliseconds: 84\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":183600,"startTime":1750435464855,"endTime":1750435464855,"millis":0.1836,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":84100,"startTime":1750435464856,"endTime":1750435464856,"millis":0.0841,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":335200,"startTime":1750435464856,"endTime":1750435464856,"millis":0.3352,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.856 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":380200,"startTime":1750435464856,"endTime":1750435464856,"millis":0.3802,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.856 [print] Request body: {\n  \"targetId\": \"<script>alert(\\\"xss\\\")<\/script>\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":233800,"startTime":1750435464857,"endTime":1750435464857,"millis":0.2338,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.857 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":89.3338,"startTime":1750435464767,"failed":false,"refId":"[1:3]","endTime":1750435464857,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":115.4172,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":" "},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2170000,"startTime":1750435464862,"endTime":1750435464864,"millis":2.17,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.857 STATUS MISMATCH - Expected: 400, Actual: 200 \n23:04:24.857 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"<script>alert(\\\"xss\\\")<\/script>\",\n  \"testDescription\": \"Kiểm tra XSS trong targetId\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Invalid input\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.890Z\\\"}\"\n}\n \n23:04:24.858 Expected Status: 400.0 \n23:04:24.858 Actual Status: 200 \n23:04:24.858 Test case #10 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:24.858 Đang chạy test case #11: Kiểm tra khoảng trắng trong targetId \n23:04:24.858 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.863 karate.env system property was: null \n"},{"result":{"nanos":177300,"startTime":1750435464865,"endTime":1750435464865,"millis":0.1773,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":323200,"startTime":1750435464865,"endTime":1750435464865,"millis":0.3232,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":274800,"startTime":1750435464866,"endTime":1750435464866,"millis":0.2748,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":165500,"startTime":1750435464866,"endTime":1750435464866,"millis":0.1655,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":62300,"startTime":1750435464866,"endTime":1750435464866,"millis":0.0623,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":110388300,"startTime":1750435464866,"endTime":1750435464976,"millis":110.3883,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.867 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 30\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \" \",\n  \"type\": \"post\"\n}\n\n\n23:04:24.975 response time in milliseconds: 107\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:24 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":171300,"startTime":1750435464976,"endTime":1750435464976,"millis":0.1713,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":126300,"startTime":1750435464976,"endTime":1750435464976,"millis":0.1263,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":704500,"startTime":1750435464976,"endTime":1750435464977,"millis":0.7045,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:24.977 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":367300,"startTime":1750435464977,"endTime":1750435464977,"millis":0.3673,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:24.977 [print] Request body: {\n  \"targetId\": \" \",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":486400,"startTime":1750435464978,"endTime":1750435464978,"millis":0.4864,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:24.978 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":115.4172,"startTime":1750435464862,"failed":false,"refId":"[1:3]","endTime":1750435464978,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":112.2596,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"NULL_VALUE"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2236900,"startTime":1750435464988,"endTime":1750435464990,"millis":2.2369,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:24.979 STATUS MISMATCH - Expected: 400, Actual: 200 \n23:04:24.980 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \" \",\n  \"testDescription\": \"Kiểm tra khoảng trắng trong targetId\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"targetId cannot contain only whitespace\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.917Z\\\"}\"\n}\n \n23:04:24.980 Expected Status: 400.0 \n23:04:24.980 Actual Status: 200 \n23:04:24.980 Test case #11 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:24.980 Đang chạy test case #12: Kiểm tra trường null targetId \n23:04:24.981 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:24.990 karate.env system property was: null \n"},{"result":{"nanos":281100,"startTime":1750435464991,"endTime":1750435464991,"millis":0.2811,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":337400,"startTime":1750435464991,"endTime":1750435464991,"millis":0.3374,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":685400,"startTime":1750435464991,"endTime":1750435464992,"millis":0.6854,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":363700,"startTime":1750435464992,"endTime":1750435464992,"millis":0.3637,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":122600,"startTime":1750435464992,"endTime":1750435464992,"millis":0.1226,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":106270600,"startTime":1750435464992,"endTime":1750435465098,"millis":106.2706,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:24.994 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"NULL_VALUE\",\n  \"type\": \"post\"\n}\n\n\n23:04:25.098 response time in milliseconds: 103\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:25 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":274700,"startTime":1750435465098,"endTime":1750435465098,"millis":0.2747,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":164800,"startTime":1750435465099,"endTime":1750435465099,"millis":0.1648,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":682500,"startTime":1750435465099,"endTime":1750435465100,"millis":0.6825,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:25.099 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":453700,"startTime":1750435465100,"endTime":1750435465100,"millis":0.4537,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:25.100 [print] Request body: {\n  \"targetId\": \"NULL_VALUE\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":386200,"startTime":1750435465100,"endTime":1750435465100,"millis":0.3862,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:25.100 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":112.2596,"startTime":1750435464987,"failed":false,"refId":"[1:3]","endTime":1750435465100,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":94.3109,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2096200,"startTime":1750435465109,"endTime":1750435465111,"millis":2.0962,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:25.102 STATUS MISMATCH - Expected: 400, Actual: 200 \n23:04:25.102 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"NULL_VALUE\",\n  \"testDescription\": \"Kiểm tra trường null targetId\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"targetId cannot be null\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.937Z\\\"}\"\n}\n \n23:04:25.102 Expected Status: 400.0 \n23:04:25.102 Actual Status: 200 \n23:04:25.103 Test case #12 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:25.103 Đang chạy test case #13: Kiểm tra độ dài targetId quá dài \n23:04:25.103 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:25.112 karate.env system property was: null \n"},{"result":{"nanos":243400,"startTime":1750435465112,"endTime":1750435465112,"millis":0.2434,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":260300,"startTime":1750435465113,"endTime":1750435465113,"millis":0.2603,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":273400,"startTime":1750435465113,"endTime":1750435465113,"millis":0.2734,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":165800,"startTime":1750435465113,"endTime":1750435465113,"millis":0.1658,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":85400,"startTime":1750435465114,"endTime":1750435465114,"millis":0.0854,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":90079500,"startTime":1750435465114,"endTime":1750435465204,"millis":90.0795,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:25.114 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 529\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n  \"type\": \"post\"\n}\n\n\n23:04:25.202 response time in milliseconds: 87\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:25 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":138900,"startTime":1750435465203,"endTime":1750435465203,"millis":0.1389,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":61400,"startTime":1750435465203,"endTime":1750435465203,"millis":0.0614,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":392800,"startTime":1750435465203,"endTime":1750435465203,"millis":0.3928,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:25.204 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":290200,"startTime":1750435465204,"endTime":1750435465204,"millis":0.2902,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:25.204 [print] Request body: {\n  \"targetId\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":223600,"startTime":1750435465204,"endTime":1750435465204,"millis":0.2236,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:25.204 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":94.3109,"startTime":1750435465109,"failed":false,"refId":"[1:3]","endTime":1750435465204,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":88.3643,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"target@#$%^&*()"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1302200,"startTime":1750435465210,"endTime":1750435465211,"millis":1.3022,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:25.205 STATUS MISMATCH - Expected: 400, Actual: 200 \n23:04:25.205 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa\",\n  \"testDescription\": \"Kiểm tra độ dài targetId quá dài\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"targetId exceeds maximum length\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.966Z\\\"}\"\n}\n \n23:04:25.205 Expected Status: 400.0 \n23:04:25.205 Actual Status: 200 \n23:04:25.205 Test case #13 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:25.206 Đang chạy test case #14: Kiểm tra ký tự đặc biệt trong targetId \n23:04:25.206 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:25.211 karate.env system property was: null \n"},{"result":{"nanos":143100,"startTime":1750435465212,"endTime":1750435465212,"millis":0.1431,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":177700,"startTime":1750435465212,"endTime":1750435465212,"millis":0.1777,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":227300,"startTime":1750435465212,"endTime":1750435465212,"millis":0.2273,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":168200,"startTime":1750435465212,"endTime":1750435465212,"millis":0.1682,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":45100,"startTime":1750435465213,"endTime":1750435465213,"millis":0.0451,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":85164100,"startTime":1750435465213,"endTime":1750435465298,"millis":85.1641,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:25.213 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 44\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"target@#$%^&*()\",\n  \"type\": \"post\"\n}\n\n\n23:04:25.297 response time in milliseconds: 83\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:25 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":192200,"startTime":1750435465298,"endTime":1750435465298,"millis":0.1922,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":75100,"startTime":1750435465298,"endTime":1750435465298,"millis":0.0751,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":328300,"startTime":1750435465298,"endTime":1750435465298,"millis":0.3283,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:25.298 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":195300,"startTime":1750435465298,"endTime":1750435465298,"millis":0.1953,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:25.298 [print] Request body: {\n  \"targetId\": \"target@#$%^&*()\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":345700,"startTime":1750435465298,"endTime":1750435465298,"millis":0.3457,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:25.300 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":88.3643,"startTime":1750435465210,"failed":false,"refId":"[1:3]","endTime":1750435465300,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/unlike-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":89.0727,"callArg":{"bearerToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4","targetId":"550e8400-e29b-41d4-a716-446655440000"},"failedCount":0,"packageQualifiedName":"features.helpers.unlike-single-call","relativePath":"features\/helpers\/unlike-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1551200,"startTime":1750435465306,"endTime":1750435465308,"millis":1.5512,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:04:25.300 STATUS MISMATCH - Expected: 400, Actual: 200 \n23:04:25.300 Test Case Data: {\n  \"bearerToken\": \"\",\n  \"targetId\": \"target@#$%^&*()\",\n  \"testDescription\": \"Kiểm tra ký tự đặc biệt trong targetId\",\n  \"expectedStatus\": 400.0,\n  \"expectedResult\": \"{\\\"error\\\": \\\"Invalid targetId format\\\"}\",\n  \"responseStatus\": \"404\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":404,\\\"message\\\":\\\"Cannot DELETE \/unlikes\\\",\\\"path\\\":\\\"\/unlikes\\\",\\\"timestamp\\\":\\\"2025-06-20T16:03:58.987Z\\\"}\"\n}\n \n23:04:25.300 Expected Status: 400.0 \n23:04:25.300 Actual Status: 200 \n23:04:25.300 Test case #14 - Status: 200, Result: {\"message\":\"Đã bỏ thích\",\"statusCode\":200,\"status\":\"success\"} \n23:04:25.300 Đang chạy test case #15: Unlike với UUID hợp lệ khác \n23:04:25.300 Sử dụng global bearer token từ config: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n23:04:25.307 karate.env system property was: null \n"},{"result":{"nanos":403700,"startTime":1750435465308,"endTime":1750435465308,"millis":0.4037,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/likes'"}},{"result":{"nanos":180300,"startTime":1750435465308,"endTime":1750435465308,"millis":0.1803,"status":"passed"},"step":{"comments":["# Thêm header Authorization nếu có bearer token"],"line":8,"prefix":"*","index":2,"text":"if (bearerToken && bearerToken.trim() !== '') karate.set('Authorization', 'Bearer ' + bearerToken)"}},{"result":{"nanos":196500,"startTime":1750435465308,"endTime":1750435465308,"millis":0.1965,"status":"passed"},"step":{"line":9,"prefix":"*","index":3,"text":"configure headers = { Authorization: '#(Authorization)' }"}},{"result":{"nanos":155400,"startTime":1750435465309,"endTime":1750435465309,"millis":0.1554,"status":"passed"},"step":{"comments":["# Xử lý request body với type cố định là \"post\""],"line":12,"prefix":"*","index":4,"text":"def requestBody = { targetId: '#(targetId)', type: 'post' }"}},{"result":{"nanos":41900,"startTime":1750435465309,"endTime":1750435465309,"millis":0.0419,"status":"passed"},"step":{"line":13,"prefix":"And","index":5,"text":"request requestBody"}},{"result":{"nanos":85147400,"startTime":1750435465309,"endTime":1750435465394,"millis":85.1474,"status":"passed"},"step":{"line":14,"prefix":"When","index":6,"text":"method DELETE"},"stepLog":"23:04:25.310 request:\n1 > DELETE http:\/\/localhost:3000\/likes\n1 > Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 65\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"targetId\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"type\": \"post\"\n}\n\n\n23:04:25.393 response time in milliseconds: 83\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 66\n1 < ETag: W\/\"42-ZW95nhVL3cRDS6oE\/ew2VwZ8cMw\"\n1 < Date: Fri, 20 Jun 2025 16:04:25 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n\n\n"},{"result":{"nanos":174700,"startTime":1750435465394,"endTime":1750435465394,"millis":0.1747,"status":"passed"},"step":{"line":15,"prefix":"Then","index":7,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":112100,"startTime":1750435465394,"endTime":1750435465394,"millis":0.1121,"status":"passed"},"step":{"line":16,"prefix":"And","index":8,"text":"def actualResponse = response"}},{"result":{"nanos":595500,"startTime":1750435465394,"endTime":1750435465395,"millis":0.5955,"status":"passed"},"step":{"line":17,"prefix":"And","index":9,"text":"print 'Calling unlike API với bearerToken:', bearerToken"},"stepLog":"23:04:25.394 [print] Calling unlike API với bearerToken: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDQzMzEyOCwiZXhwIjoxNzUwNDM2NzI4fQ.LLNWdGI7R_rFyU4cQg2wm-V3Jq9O_6TIXzyRgCE6Uf4 \n"},{"result":{"nanos":325600,"startTime":1750435465394,"endTime":1750435465394,"millis":0.3256,"status":"passed"},"step":{"line":18,"prefix":"And","index":10,"text":"print 'Request body:', requestBody"},"stepLog":"23:04:25.395 [print] Request body: {\n  \"targetId\": \"550e8400-e29b-41d4-a716-446655440000\",\n  \"type\": \"post\"\n}\n \n"},{"result":{"nanos":188400,"startTime":1750435465395,"endTime":1750435465395,"millis":0.1884,"status":"passed"},"step":{"line":19,"prefix":"And","index":11,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:04:25.395 [print] Response status: 200 body: {\n  \"message\": \"Đã bỏ thích\",\n  \"statusCode\": 200,\n  \"status\": \"success\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API unlike với bearer token và targetId (type cố định là post)","description":"","durationMillis":89.0727,"startTime":1750435465306,"failed":false,"refId":"[1:3]","endTime":1750435465395,"exampleIndex":-1}],"name":"Unlike Single Call Helper - Thực hiện API call unlike với bearer token","passedCount":1}]},{"result":{"nanos":113200,"startTime":1750435465396,"endTime":1750435465396,"millis":0.1132,"status":"passed"},"step":{"line":83,"prefix":"*","index":3,"text":"def testResults = results"}},{"result":{"nanos":728000,"startTime":1750435465396,"endTime":1750435465397,"millis":0.728,"status":"passed"},"step":{"line":84,"prefix":"*","index":4,"text":"print 'Hoàn thành tất cả test cases unlike. Đang ghi kết quả vào Excel...'"},"stepLog":"23:04:25.397 [print] Hoàn thành tất cả test cases unlike. Đang ghi kết quả vào Excel... \n"},{"result":{"nanos":330700,"startTime":1750435465397,"endTime":1750435465397,"millis":0.3307,"status":"passed"},"step":{"line":86,"prefix":"*","index":5,"text":"print 'Ghi kết quả vào Excel...'"},"stepLog":"23:04:25.397 [print] Ghi kết quả vào Excel... \n"},{"result":{"nanos":213873400,"startTime":1750435465397,"endTime":1750435465611,"millis":213.8734,"status":"passed"},"step":{"line":87,"prefix":"*","index":6,"text":"def writeSuccess = writeToExcel(excelFilePath, sheetName, testResults)"}},{"result":{"nanos":1307900,"startTime":1750435465612,"endTime":1750435465613,"millis":1.3079,"status":"passed"},"step":{"line":88,"prefix":"*","index":7,"text":"if (writeSuccess) karate.log('Đã ghi kết quả unlike vào Excel thành công!')"},"stepLog":"23:04:25.613 Đã ghi kết quả unlike vào Excel thành công! \n"},{"result":{"nanos":357600,"startTime":1750435465613,"endTime":1750435465613,"millis":0.3576,"status":"passed"},"step":{"line":89,"prefix":"*","index":8,"text":"if (!writeSuccess) karate.log('Lỗi khi ghi kết quả unlike vào Excel!')"}}],"executorName":"main","line":16,"name":"Chạy tất cả test cases unlike từ Excel","description":"","durationMillis":2731.3242,"startTime":1750435462739,"failed":false,"refId":"[1:16]","endTime":1750435465613,"exampleIndex":-1}],"callDepth":0,"name":"Unlike Testing từ Excel - Sheet unlike","description":"","resultDate":"2025-06-20 11:04:25 PM","durationMillis":2731.3242,"passedCount":1}