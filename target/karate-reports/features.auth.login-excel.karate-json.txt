{"failedCount":0,"prefixedPath":"classpath:features\/auth\/login-excel.feature","packageQualifiedName":"features.auth.login-excel","loopIndex":-1,"relativePath":"features\/auth\/login-excel.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":761800,"startTime":1750522833701,"endTime":1750522833702,"millis":0.7618,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"url baseUrl"},"stepLog":"23:20:33.668 karate.env system property was: null \n"},{"result":{"nanos":37631600,"startTime":1750522833705,"endTime":1750522833743,"millis":37.6316,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"def readExcel = read('classpath:utils\/read-excel.js')"}},{"result":{"nanos":26431500,"startTime":1750522833743,"endTime":1750522833769,"millis":26.4315,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":2,"text":"def writeToExcel = read('classpath:utils\/write-excel.js')"}},{"result":{"nanos":1672500,"startTime":1750522833770,"endTime":1750522833772,"millis":1.6725,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":3,"text":"def excelFilePath = 'src\/test\/java\/data\/data.xlsx'"}},{"result":{"nanos":1174500,"startTime":1750522833772,"endTime":1750522833773,"millis":1.1745,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":4,"text":"def sheetName = 'login'"}},{"result":{"nanos":927355700,"startTime":1750522833774,"endTime":1750522834701,"millis":927.3557,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":5,"text":"def testData = readExcel(excelFilePath, sheetName)"},"stepLog":"23:20:34.581 Headers found: [\n  \"email\",\n  \"password\",\n  \"expectedStatus\",\n  \"expectedResult\",\n  \"testDescription\",\n  \"responseStatus\",\n  \"result\",\n  \"testStatus\",\n  \"failureReason\"\n]\n \n23:20:34.694 Read data from Excel: [\n  {\n    \"email\": \"nam@gmail.com\",\n    \"password\": \"123456\",\n    \"expectedStatus\": \"200\",\n    \"expectedResult\": \"success\",\n    \"testDescription\": \"Valid login credentials\",\n    \"responseStatus\": \"200\",\n    \"result\": \"{\\\"access_token\\\":\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDUyMjUwNSwiZXhwIjoxNzUwNTI2MTA1fQ.T5gu1NTgRQG-m0imyOJJU7TnEWrQfpRSZJ4qJq9VNVo\\\",\\\"refresh_token\\\":\\\"8d0dfdc0b8845eae21048a9708a1201cf38e76a9f259534661b974c009124eb2\\\",\\\"user\\\":{\\\"id\\\":\\\"08515b05-2d3e-4789-ad60-db35525a4970\\\",\\\"email\\\":\\\"nam@gmail.com\\\",\\\"username\\\":\\\"nam\\\",\\\"name\\\":\\\"nam\\\",\\\"phoneNumber\\\":\\\"0123456789\\\",\\\"profilePic\\\":\\\"https:\/\/res.cloudinary.com\/dizcvrefo\/image\/upload\/v1749266646\/nestjs_uploads\/zk9zrpeidnovxibfqdxr.png\\\",\\\"bio\\\":\\\"Chu tich hoi dong Quan tri 1\\\",\\\"private\\\":false,\\\"verified\\\":false,\\\"role\\\":0,\\\"followersCount\\\":2,\\\"followingCount\\\":2,\\\"postCount\\\":13}}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"nam@gmail.com\",\n    \"password\": \"\",\n    \"expectedStatus\": \"400\",\n    \"expectedResult\": \"Missing password\",\n    \"testDescription\": \"Login without password\",\n    \"responseStatus\": \"400\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:05.858Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"invalid@email.com\",\n    \"password\": \"password123\",\n    \"expectedStatus\": \"401\",\n    \"expectedResult\": \"user not found\",\n    \"testDescription\": \"Login with invalid email\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:05.918Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"\",\n    \"password\": \"password123\",\n    \"expectedStatus\": \"400\",\n    \"expectedResult\": \"Missing email or username\",\n    \"testDescription\": \"Login without email\",\n    \"responseStatus\": \"400\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:05.958Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"nam@gmail.com\",\n    \"password\": \"wrongpassword\",\n    \"expectedStatus\": \"401\",\n    \"expectedResult\": \"user not found\",\n    \"testDescription\": \"Login with wrong password\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.069Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"user@\",\n    \"password\": \"password123\",\n    \"expectedStatus\": \"400\",\n    \"expectedResult\": \"Invalid email format\",\n    \"testDescription\": \"TC: Email không hợp lệ - thiếu domain\",\n    \"responseStatus\": \"400\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.092Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"user.example.com\",\n    \"password\": \"password123\",\n    \"expectedStatus\": \"400\",\n    \"expectedResult\": \"Invalid email format\",\n    \"testDescription\": \"TC: Email không hợp lệ - thiếu ký tự @\",\n    \"responseStatus\": \"400\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.112Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"@example.com\",\n    \"password\": \"password123\",\n    \"expectedStatus\": \"400\",\n    \"expectedResult\": \"Invalid email format\",\n    \"testDescription\": \"TC: Email không hợp lệ - thiếu phần username\",\n    \"responseStatus\": \"400\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.137Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"nam@gmail.com\",\n    \"password\": \"12\",\n    \"expectedStatus\": \"401\",\n    \"expectedResult\": \"Password must be between X and Y characters\",\n    \"testDescription\": \"TC: Password quá ngắn\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.269Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"nam@gmail.com\",\n    \"password\": \"verylongpasswordthatexceedsthenormallimitsforpasswordlengthvalidationwhichshouldnotbeaccepted123456789\",\n    \"expectedStatus\": \"401\",\n    \"expectedResult\": \"Password must be between X and Y characters\",\n    \"testDescription\": \"TC: Password quá dài\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.381Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \" OR '1'='1\",\n    \"password\": \"password123\",\n    \"expectedStatus\": \"400\",\n    \"expectedResult\": \"Invalid input\",\n    \"testDescription\": \"TC: SQL Injection trong email\",\n    \"responseStatus\": \"400\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.399Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"nam@gmail.com\",\n    \"password\": \"' OR '1'='1\",\n    \"expectedStatus\": \"401\",\n    \"expectedResult\": \"Invalid input\",\n    \"testDescription\": \"TC: SQL Injection trong password\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.511Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"<script>alert(\\\"xss\\\")<\/script>@test.com\",\n    \"password\": \"password123\",\n    \"expectedStatus\": \"400\",\n    \"expectedResult\": \"Invalid input\",\n    \"testDescription\": \"TC: XSS trong email\",\n    \"responseStatus\": \"400\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.530Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"nam@gmail.com\",\n    \"password\": \"<script>alert(\\\"xss\\\")<\/script>\",\n    \"expectedStatus\": \"401\",\n    \"expectedResult\": \"Invalid input\",\n    \"testDescription\": \"TC: XSS trong password\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.642Z\\\"}\",\n    \"testStatus\": \"PASS\",\n    \"failureReason\": \"All validations passed\"\n  },\n  {\n    \"email\": \"brute.force@test.com\",\n    \"password\": \"wrongpass1\",\n    \"expectedStatus\": 429.0,\n    \"expectedResult\": \"Too many login attempts\",\n    \"testDescription\": \"TC: Vượt quá số lần thử - lần 1\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.685Z\\\"}\",\n    \"testStatus\": \"FAIL\",\n    \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n  },\n  {\n    \"email\": \"brute.force@test.com\",\n    \"password\": \"wrongpass2\",\n    \"expectedStatus\": 429.0,\n    \"expectedResult\": \"Too many login attempts\",\n    \"testDescription\": \"TC: Vượt quá số lần thử - lần 2\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.734Z\\\"}\",\n    \"testStatus\": \"FAIL\",\n    \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n  },\n  {\n    \"email\": \"brute.force@test.com\",\n    \"password\": \"wrongpass3\",\n    \"expectedStatus\": 429.0,\n    \"expectedResult\": \"Too many login attempts\",\n    \"testDescription\": \"TC: Vượt quá số lần thử - lần 3\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.781Z\\\"}\",\n    \"testStatus\": \"FAIL\",\n    \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n  },\n  {\n    \"email\": \"brute.force@test.com\",\n    \"password\": \"wrongpass4\",\n    \"expectedStatus\": 429.0,\n    \"expectedResult\": \"Too many login attempts\",\n    \"testDescription\": \"TC: Vượt quá số lần thử - lần 4\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.825Z\\\"}\",\n    \"testStatus\": \"FAIL\",\n    \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n  },\n  {\n    \"email\": \"brute.force@test.com\",\n    \"password\": \"wrongpass5\",\n    \"expectedStatus\": 429.0,\n    \"expectedResult\": \"Too many login attempts\",\n    \"testDescription\": \"TC: Vượt quá số lần thử - lần 5\",\n    \"responseStatus\": \"401\",\n    \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.867Z\\\"}\",\n    \"testStatus\": \"FAIL\",\n    \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n  }\n]\n \n"},{"result":{"nanos":7741100,"startTime":1750522834701,"endTime":1750522834709,"millis":7.7411,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":6,"text":"print 'Đọc được ' + testData.length + ' test cases từ Excel sheet: ' + sheetName"},"stepLog":"23:20:34.708 [print] Đọc được 19 test cases từ Excel sheet: login \n"},{"result":{"nanos":24817000,"startTime":1750522834709,"endTime":1750522834734,"millis":24.817,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":7,"text":"def testResults = []"}},{"result":{"nanos":10347100,"startTime":1750522834734,"endTime":1750522834744,"millis":10.3471,"status":"passed"},"step":{"endLine":67,"line":14,"prefix":"*","docString":"function(testCase, actualStatus, actualResponse) {\n  var expectedStatus = testCase.expectedStatus;\n        \n  \/\/ 1. Kiểm tra Status Code (Bắt buộc)\n  if (actualStatus != expectedStatus) {\n    return {\n      status: 'FAIL',\n      reason: 'Status mismatch: Expected ' + expectedStatus + ', got ' + actualStatus\n    };\n  }\n        \n  \/\/ 2. Kiểm tra thêm nếu có expectedResult\n  if (testCase.expectedResult && testCase.expectedResult.trim() !== '') {\n    try {\n      var expectedObj = JSON.parse(testCase.expectedResult);\n            \n      \/\/ Kiểm tra success response\n      if (expectedStatus == 200 || expectedStatus == 201) {\n        if (!actualResponse.success && !actualResponse.status) {\n          return {\n            status: 'FAIL',\n            reason: 'Missing success indicator in response'\n          };\n        }\n        if (expectedObj.token && !actualResponse.token) {\n          return {\n            status: 'FAIL',\n            reason: 'Missing token in success response'\n          };\n        }\n      }\n            \n      \/\/ Kiểm tra error response\n      if (expectedStatus >= 400) {\n        if (expectedObj.error && !actualResponse.error && !actualResponse.message) {\n          return {\n            status: 'FAIL',\n            reason: 'Missing error message in error response'\n          };\n        }\n      }\n    } catch (e) {\n      karate.log('Could not parse expectedResult as JSON, skipping detailed validation');\n    }\n  }\n        \n  return {\n    status: 'PASS',\n    reason: 'All validations passed'\n  };\n}","index":0,"text":"def evaluateTestCase ="}},{"result":{"nanos":8116500,"startTime":1750522834744,"endTime":1750522834752,"millis":8.1165,"status":"passed"},"step":{"endLine":123,"line":69,"prefix":"*","docString":"function(testCase, index) {\n  karate.log('Đang chạy test case #' + (index + 1) + ': ' + testCase.testDescription);\n        \n  var requestBody = {};\n  if (testCase.email && testCase.email !== '') {\n    requestBody.email = testCase.email;\n  }\n  if (testCase.password && testCase.password !== '') {\n    requestBody.password = testCase.password;\n  }\n        \n  var response = karate.call('classpath:features\/helpers\/login-single-call.feature', {\n    email: testCase.email || '',\n    password: testCase.password || ''\n  });\n        \n  var actualStatus = response.actualStatus;\n  var actualResult = '';\n        \n  \/\/ Ghi response thực tế vào result\n  if (response.actualResponse) {\n    actualResult = JSON.stringify(response.actualResponse);\n  } else {\n    actualResult = 'No response body';\n  }\n        \n  \/\/ ===== ĐÁNH GIÁ PASS\/FAIL =====\n  var testEvaluation = evaluateTestCase(testCase, actualStatus, response.actualResponse);\n        \n  \/\/ Log kết quả đánh giá\n  if (testEvaluation.status === 'FAIL') {\n    karate.log('❌ TEST FAILED - ' + testEvaluation.reason);\n  } else {\n    karate.log('✅ TEST PASSED - ' + testEvaluation.reason);\n  }\n        \n  \/\/ Log chi tiết để debug\n  karate.log('Test Case Data:', testCase);\n  karate.log('Expected Status:', testCase.expectedStatus);\n  karate.log('Expected Result:', testCase.expectedResult);\n  karate.log('Actual Status:', actualStatus);\n  karate.log('Test Status:', testEvaluation.status);\n        \n  karate.log('Test case #' + (index + 1) + ' - Status: ' + actualStatus + ', Test Result: ' + testEvaluation.status);\n        \n  return {\n    responseStatus: actualStatus,\n    result: actualResult,\n    testStatus: testEvaluation.status,\n    failureReason: testEvaluation.reason\n  };\n}","index":1,"text":"def runTest ="}},{"result":{"nanos":1830660800,"startTime":1750522834752,"endTime":1750522836583,"millis":1830.6608,"status":"passed"},"step":{"comments":["# Chạy từng test case"],"line":126,"prefix":"*","index":2,"text":"def results = karate.map(testData, runTest)"},"stepLog":"23:20:36.583 ❌ TEST FAILED - Status mismatch: Expected 429, got 401 \n23:20:36.583 Test Case Data: {\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass5\",\n  \"expectedStatus\": 429.0,\n  \"expectedResult\": \"Too many login attempts\",\n  \"testDescription\": \"TC: Vượt quá số lần thử - lần 5\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.867Z\\\"}\",\n  \"testStatus\": \"FAIL\",\n  \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n}\n \n23:20:36.583 Expected Status: 429.0 \n23:20:36.583 Expected Result: Too many login attempts \n23:20:36.583 Actual Status: 401 \n23:20:36.583 Test Status: FAIL \n23:20:36.583 Test case #19 - Status: 401, Test Result: FAIL \n","callResults":[{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":709.2826,"callArg":{"email":"nam@gmail.com","password":"123456"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":12995700,"startTime":1750522834774,"endTime":1750522834787,"millis":12.9957,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:34.757 Đang chạy test case #1: Valid login credentials \n23:20:34.784 karate.env system property was: null \n"},{"result":{"nanos":1205000,"startTime":1750522834787,"endTime":1750522834788,"millis":1.205,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":6721100,"startTime":1750522834788,"endTime":1750522834795,"millis":6.7211,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":685206800,"startTime":1750522834795,"endTime":1750522835480,"millis":685.2068,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.174 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 45\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"123456\"\n}\n\n\n23:20:35.479 response time in milliseconds: 303\n1 < 200\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 708\n1 < ETag: W\/\"2c4-qMKmgEBFTTOC32UblN+AtnsrcUk\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDUyMjgzNSwiZXhwIjoxNzUwNTI2NDM1fQ.Gz9ucrVZidiEWOR8BUB4FrdL5BVUXavE4n5xuD-cft4\",\n  \"refresh_token\": \"27ac302d6005ac1bc55a0f6c3963c1b0d354e2daba945bdea40dbd9e3f9baeca\",\n  \"user\": {\n    \"id\": \"08515b05-2d3e-4789-ad60-db35525a4970\",\n    \"email\": \"nam@gmail.com\",\n    \"username\": \"nam\",\n    \"name\": \"nam\",\n    \"phoneNumber\": \"0123456789\",\n    \"profilePic\": \"https:\/\/res.cloudinary.com\/dizcvrefo\/image\/upload\/v1749266646\/nestjs_uploads\/zk9zrpeidnovxibfqdxr.png\",\n    \"bio\": \"Chu tich hoi dong Quan tri 1\",\n    \"private\": false,\n    \"verified\": false,\n    \"role\": 0,\n    \"followersCount\": 2,\n    \"followingCount\": 2,\n    \"postCount\": 13\n  }\n}\n\n\n"},{"result":{"nanos":537000,"startTime":1750522835481,"endTime":1750522835482,"millis":0.537,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":341300,"startTime":1750522835481,"endTime":1750522835481,"millis":0.3413,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":1123200,"startTime":1750522835482,"endTime":1750522835483,"millis":1.1232,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.482 [print] Calling login API với email: nam@gmail.com password: 123456 \n"},{"result":{"nanos":1152500,"startTime":1750522835483,"endTime":1750522835484,"millis":1.1525,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.484 [print] Response status: 200 body: {\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDUyMjgzNSwiZXhwIjoxNzUwNTI2NDM1fQ.Gz9ucrVZidiEWOR8BUB4FrdL5BVUXavE4n5xuD-cft4\",\n  \"refresh_token\": \"27ac302d6005ac1bc55a0f6c3963c1b0d354e2daba945bdea40dbd9e3f9baeca\",\n  \"user\": {\n    \"id\": \"08515b05-2d3e-4789-ad60-db35525a4970\",\n    \"email\": \"nam@gmail.com\",\n    \"username\": \"nam\",\n    \"name\": \"nam\",\n    \"phoneNumber\": \"0123456789\",\n    \"profilePic\": \"https:\/\/res.cloudinary.com\/dizcvrefo\/image\/upload\/v1749266646\/nestjs_uploads\/zk9zrpeidnovxibfqdxr.png\",\n    \"bio\": \"Chu tich hoi dong Quan tri 1\",\n    \"private\": false,\n    \"verified\": false,\n    \"role\": 0,\n    \"followersCount\": 2,\n    \"followingCount\": 2,\n    \"postCount\": 13\n  }\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":709.2826,"startTime":1750522834772,"failed":false,"refId":"[1:3]","endTime":1750522835484,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":17.9761,"callArg":{"email":"nam@gmail.com","password":""},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":5753500,"startTime":1750522835535,"endTime":1750522835541,"millis":5.7535,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.519 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.523 ✅ TEST PASSED - All validations passed \n23:20:35.524 Test Case Data: {\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"123456\",\n  \"expectedStatus\": \"200\",\n  \"expectedResult\": \"success\",\n  \"testDescription\": \"Valid login credentials\",\n  \"responseStatus\": \"200\",\n  \"result\": \"{\\\"access_token\\\":\\\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIwODUxNWIwNS0yZDNlLTQ3ODktYWQ2MC1kYjM1NTI1YTQ5NzAiLCJ1c2VybmFtZSI6Im5hbSIsInJvbGUiOjAsImlhdCI6MTc1MDUyMjUwNSwiZXhwIjoxNzUwNTI2MTA1fQ.T5gu1NTgRQG-m0imyOJJU7TnEWrQfpRSZJ4qJq9VNVo\\\",\\\"refresh_token\\\":\\\"8d0dfdc0b8845eae21048a9708a1201cf38e76a9f259534661b974c009124eb2\\\",\\\"user\\\":{\\\"id\\\":\\\"08515b05-2d3e-4789-ad60-db35525a4970\\\",\\\"email\\\":\\\"nam@gmail.com\\\",\\\"username\\\":\\\"nam\\\",\\\"name\\\":\\\"nam\\\",\\\"phoneNumber\\\":\\\"0123456789\\\",\\\"profilePic\\\":\\\"https:\/\/res.cloudinary.com\/dizcvrefo\/image\/upload\/v1749266646\/nestjs_uploads\/zk9zrpeidnovxibfqdxr.png\\\",\\\"bio\\\":\\\"Chu tich hoi dong Quan tri 1\\\",\\\"private\\\":false,\\\"verified\\\":false,\\\"role\\\":0,\\\"followersCount\\\":2,\\\"followingCount\\\":2,\\\"postCount\\\":13}}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.524 Expected Status: 200 \n23:20:35.524 Expected Result: success \n23:20:35.525 Actual Status: 200 \n23:20:35.525 Test Status: PASS \n23:20:35.525 Test case #1 - Status: 200, Test Result: PASS \n23:20:35.526 Đang chạy test case #2: Login without password \n23:20:35.539 karate.env system property was: null \n"},{"result":{"nanos":1011200,"startTime":1750522835541,"endTime":1750522835542,"millis":1.0112,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":1589200,"startTime":1750522835542,"endTime":1750522835544,"millis":1.5892,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":8303800,"startTime":1750522835544,"endTime":1750522835552,"millis":8.3038,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.546 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 39\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"\"\n}\n\n\n23:20:35.551 response time in milliseconds: 4\n1 < 400\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 136\n1 < ETag: W\/\"88-iqrIzjdvDZfbh2GmsA2f4akMEo8\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.549Z\"\n}\n\n\n"},{"result":{"nanos":263800,"startTime":1750522835552,"endTime":1750522835552,"millis":0.2638,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":221400,"startTime":1750522835552,"endTime":1750522835552,"millis":0.2214,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":488000,"startTime":1750522835552,"endTime":1750522835552,"millis":0.488,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.554 [print] Calling login API với email: nam@gmail.com password:  \n"},{"result":{"nanos":345200,"startTime":1750522835554,"endTime":1750522835554,"millis":0.3452,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.554 [print] Response status: 400 body: {\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.549Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":17.9761,"startTime":1750522835535,"failed":false,"refId":"[1:3]","endTime":1750522835554,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":47.1666,"callArg":{"email":"invalid@email.com","password":"password123"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4051900,"startTime":1750522835573,"endTime":1750522835577,"millis":4.0519,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.556 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.557 ✅ TEST PASSED - All validations passed \n23:20:35.558 Test Case Data: {\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"\",\n  \"expectedStatus\": \"400\",\n  \"expectedResult\": \"Missing password\",\n  \"testDescription\": \"Login without password\",\n  \"responseStatus\": \"400\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:05.858Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.558 Expected Status: 400 \n23:20:35.558 Expected Result: Missing password \n23:20:35.558 Actual Status: 400 \n23:20:35.558 Test Status: PASS \n23:20:35.559 Test case #2 - Status: 400, Test Result: PASS \n23:20:35.560 Đang chạy test case #3: Login with invalid email \n23:20:35.576 karate.env system property was: null \n"},{"result":{"nanos":368100,"startTime":1750522835577,"endTime":1750522835577,"millis":0.3681,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":866000,"startTime":1750522835577,"endTime":1750522835578,"millis":0.866,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":37893100,"startTime":1750522835578,"endTime":1750522835616,"millis":37.8931,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.581 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 54\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"invalid@email.com\",\n  \"password\": \"password123\"\n}\n\n\n23:20:35.615 response time in milliseconds: 33\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-rGhdxbjUUO+7bnDW6qXCOyF8Ftk\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.612Z\"\n}\n\n\n"},{"result":{"nanos":320500,"startTime":1750522835617,"endTime":1750522835617,"millis":0.3205,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":908400,"startTime":1750522835617,"endTime":1750522835618,"millis":0.9084,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":1277400,"startTime":1750522835618,"endTime":1750522835619,"millis":1.2774,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.619 [print] Calling login API với email: invalid@email.com password: password123 \n"},{"result":{"nanos":1481200,"startTime":1750522835619,"endTime":1750522835620,"millis":1.4812,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.621 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.612Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":47.1666,"startTime":1750522835573,"failed":false,"refId":"[1:3]","endTime":1750522835621,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":15.2071,"callArg":{"email":"","password":"password123"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3856700,"startTime":1750522835639,"endTime":1750522835643,"millis":3.8567,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.624 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.625 ✅ TEST PASSED - All validations passed \n23:20:35.626 Test Case Data: {\n  \"email\": \"invalid@email.com\",\n  \"password\": \"password123\",\n  \"expectedStatus\": \"401\",\n  \"expectedResult\": \"user not found\",\n  \"testDescription\": \"Login with invalid email\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:05.918Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.626 Expected Status: 401 \n23:20:35.626 Expected Result: user not found \n23:20:35.626 Actual Status: 401 \n23:20:35.626 Test Status: PASS \n23:20:35.626 Test case #3 - Status: 401, Test Result: PASS \n23:20:35.628 Đang chạy test case #4: Login without email \n23:20:35.642 karate.env system property was: null \n"},{"result":{"nanos":307100,"startTime":1750522835644,"endTime":1750522835644,"millis":0.3071,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":449400,"startTime":1750522835645,"endTime":1750522835645,"millis":0.4494,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":8338800,"startTime":1750522835645,"endTime":1750522835653,"millis":8.3388,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.646 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 37\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"\",\n  \"password\": \"password123\"\n}\n\n\n23:20:35.652 response time in milliseconds: 4\n1 < 400\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 136\n1 < ETag: W\/\"88-u2CMOJk5vB6KjiIhGSWjMqsISk8\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.649Z\"\n}\n\n\n"},{"result":{"nanos":307200,"startTime":1750522835652,"endTime":1750522835652,"millis":0.3072,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":137200,"startTime":1750522835654,"endTime":1750522835654,"millis":0.1372,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":1198200,"startTime":1750522835654,"endTime":1750522835655,"millis":1.1982,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.655 [print] Calling login API với email:  password: password123 \n"},{"result":{"nanos":612500,"startTime":1750522835655,"endTime":1750522835656,"millis":0.6125,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.655 [print] Response status: 400 body: {\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.649Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":15.2071,"startTime":1750522835639,"failed":false,"refId":"[1:3]","endTime":1750522835656,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":100.1009,"callArg":{"email":"nam@gmail.com","password":"wrongpassword"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3821200,"startTime":1750522835670,"endTime":1750522835674,"millis":3.8212,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.657 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.657 ✅ TEST PASSED - All validations passed \n23:20:35.657 Test Case Data: {\n  \"email\": \"\",\n  \"password\": \"password123\",\n  \"expectedStatus\": \"400\",\n  \"expectedResult\": \"Missing email or username\",\n  \"testDescription\": \"Login without email\",\n  \"responseStatus\": \"400\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:05.958Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.657 Expected Status: 400 \n23:20:35.657 Expected Result: Missing email or username \n23:20:35.658 Actual Status: 400 \n23:20:35.658 Test Status: PASS \n23:20:35.658 Test case #4 - Status: 400, Test Result: PASS \n23:20:35.658 Đang chạy test case #5: Login with wrong password \n23:20:35.672 karate.env system property was: null \n"},{"result":{"nanos":304100,"startTime":1750522835673,"endTime":1750522835673,"millis":0.3041,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":773700,"startTime":1750522835674,"endTime":1750522835675,"millis":0.7737,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":94100100,"startTime":1750522835674,"endTime":1750522835768,"millis":94.1001,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.676 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 52\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"wrongpassword\"\n}\n\n\n23:20:35.768 response time in milliseconds: 92\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-++e5BQu8B+J2EIzZ0rj33zpLxOY\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.766Z\"\n}\n\n\n"},{"result":{"nanos":188100,"startTime":1750522835769,"endTime":1750522835769,"millis":0.1881,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":109200,"startTime":1750522835769,"endTime":1750522835769,"millis":0.1092,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":532800,"startTime":1750522835769,"endTime":1750522835770,"millis":0.5328,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.770 [print] Calling login API với email: nam@gmail.com password: wrongpassword \n"},{"result":{"nanos":271700,"startTime":1750522835770,"endTime":1750522835770,"millis":0.2717,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.770 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.766Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":100.1009,"startTime":1750522835668,"failed":false,"refId":"[1:3]","endTime":1750522835770,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":9.1631,"callArg":{"email":"user@","password":"password123"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2021100,"startTime":1750522835778,"endTime":1750522835780,"millis":2.0211,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.771 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.772 ✅ TEST PASSED - All validations passed \n23:20:35.772 Test Case Data: {\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"wrongpassword\",\n  \"expectedStatus\": \"401\",\n  \"expectedResult\": \"user not found\",\n  \"testDescription\": \"Login with wrong password\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.069Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.772 Expected Status: 401 \n23:20:35.772 Expected Result: user not found \n23:20:35.772 Actual Status: 401 \n23:20:35.772 Test Status: PASS \n23:20:35.772 Test case #5 - Status: 401, Test Result: PASS \n23:20:35.773 Đang chạy test case #6: TC: Email không hợp lệ - thiếu domain \n23:20:35.779 karate.env system property was: null \n"},{"result":{"nanos":163100,"startTime":1750522835780,"endTime":1750522835780,"millis":0.1631,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":282500,"startTime":1750522835780,"endTime":1750522835780,"millis":0.2825,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":5313800,"startTime":1750522835780,"endTime":1750522835785,"millis":5.3138,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.781 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 42\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"user@\",\n  \"password\": \"password123\"\n}\n\n\n23:20:35.785 response time in milliseconds: 4\n1 < 400\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 136\n1 < ETag: W\/\"88-6jfXLEL82Bj732OAIcyp8uCbYjg\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.784Z\"\n}\n\n\n"},{"result":{"nanos":255000,"startTime":1750522835786,"endTime":1750522835786,"millis":0.255,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":148100,"startTime":1750522835786,"endTime":1750522835786,"millis":0.1481,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":579100,"startTime":1750522835787,"endTime":1750522835788,"millis":0.5791,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.787 [print] Calling login API với email: user@ password: password123 \n"},{"result":{"nanos":400400,"startTime":1750522835787,"endTime":1750522835787,"millis":0.4004,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.788 [print] Response status: 400 body: {\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.784Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":9.1631,"startTime":1750522835778,"failed":false,"refId":"[1:3]","endTime":1750522835788,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":20.6543,"callArg":{"email":"user.example.com","password":"password123"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":5296700,"startTime":1750522835806,"endTime":1750522835811,"millis":5.2967,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.789 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.790 ✅ TEST PASSED - All validations passed \n23:20:35.790 Test Case Data: {\n  \"email\": \"user@\",\n  \"password\": \"password123\",\n  \"expectedStatus\": \"400\",\n  \"expectedResult\": \"Invalid email format\",\n  \"testDescription\": \"TC: Email không hợp lệ - thiếu domain\",\n  \"responseStatus\": \"400\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.092Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.790 Expected Status: 400 \n23:20:35.790 Expected Result: Invalid email format \n23:20:35.790 Actual Status: 400 \n23:20:35.790 Test Status: PASS \n23:20:35.791 Test case #6 - Status: 400, Test Result: PASS \n23:20:35.791 Đang chạy test case #7: TC: Email không hợp lệ - thiếu ký tự @ \n23:20:35.809 karate.env system property was: null \n"},{"result":{"nanos":331200,"startTime":1750522835810,"endTime":1750522835810,"millis":0.3312,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":703400,"startTime":1750522835811,"endTime":1750522835812,"millis":0.7034,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":12288200,"startTime":1750522835811,"endTime":1750522835823,"millis":12.2882,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.814 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 53\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"user.example.com\",\n  \"password\": \"password123\"\n}\n\n\n23:20:35.824 response time in milliseconds: 9\n1 < 400\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 136\n1 < ETag: W\/\"88-X246KfmGnC8YU+uUnTt021e7oic\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.819Z\"\n}\n\n\n"},{"result":{"nanos":260100,"startTime":1750522835825,"endTime":1750522835825,"millis":0.2601,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":226200,"startTime":1750522835825,"endTime":1750522835825,"millis":0.2262,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":1066100,"startTime":1750522835825,"endTime":1750522835826,"millis":1.0661,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.826 [print] Calling login API với email: user.example.com password: password123 \n"},{"result":{"nanos":482400,"startTime":1750522835826,"endTime":1750522835826,"millis":0.4824,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.826 [print] Response status: 400 body: {\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.819Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":20.6543,"startTime":1750522835805,"failed":false,"refId":"[1:3]","endTime":1750522835827,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":20.3306,"callArg":{"email":"@example.com","password":"password123"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4112200,"startTime":1750522835844,"endTime":1750522835848,"millis":4.1122,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.828 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.828 ✅ TEST PASSED - All validations passed \n23:20:35.830 Test Case Data: {\n  \"email\": \"user.example.com\",\n  \"password\": \"password123\",\n  \"expectedStatus\": \"400\",\n  \"expectedResult\": \"Invalid email format\",\n  \"testDescription\": \"TC: Email không hợp lệ - thiếu ký tự @\",\n  \"responseStatus\": \"400\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.112Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.830 Expected Status: 400 \n23:20:35.830 Expected Result: Invalid email format \n23:20:35.831 Actual Status: 400 \n23:20:35.831 Test Status: PASS \n23:20:35.831 Test case #7 - Status: 400, Test Result: PASS \n23:20:35.832 Đang chạy test case #8: TC: Email không hợp lệ - thiếu phần username \n23:20:35.847 karate.env system property was: null \n"},{"result":{"nanos":340000,"startTime":1750522835848,"endTime":1750522835848,"millis":0.34,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":599800,"startTime":1750522835849,"endTime":1750522835850,"millis":0.5998,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":11592300,"startTime":1750522835849,"endTime":1750522835861,"millis":11.5923,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.852 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 49\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"@example.com\",\n  \"password\": \"password123\"\n}\n\n\n23:20:35.860 response time in milliseconds: 6\n1 < 400\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 136\n1 < ETag: W\/\"88-anWsAfOgVL21YjhHwhPNCgcc2qg\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.856Z\"\n}\n\n\n"},{"result":{"nanos":380000,"startTime":1750522835862,"endTime":1750522835862,"millis":0.38,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":263800,"startTime":1750522835862,"endTime":1750522835862,"millis":0.2638,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":2165700,"startTime":1750522835863,"endTime":1750522835865,"millis":2.1657,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.864 [print] Calling login API với email: @example.com password: password123 \n"},{"result":{"nanos":876800,"startTime":1750522835865,"endTime":1750522835866,"millis":0.8768,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.866 [print] Response status: 400 body: {\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.856Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":20.3306,"startTime":1750522835844,"failed":false,"refId":"[1:3]","endTime":1750522835866,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":101.1485,"callArg":{"email":"nam@gmail.com","password":"12"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":4589600,"startTime":1750522835876,"endTime":1750522835881,"millis":4.5896,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.868 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.868 ✅ TEST PASSED - All validations passed \n23:20:35.868 Test Case Data: {\n  \"email\": \"@example.com\",\n  \"password\": \"password123\",\n  \"expectedStatus\": \"400\",\n  \"expectedResult\": \"Invalid email format\",\n  \"testDescription\": \"TC: Email không hợp lệ - thiếu phần username\",\n  \"responseStatus\": \"400\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.137Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.868 Expected Status: 400 \n23:20:35.868 Expected Result: Invalid email format \n23:20:35.868 Actual Status: 400 \n23:20:35.868 Test Status: PASS \n23:20:35.869 Test case #8 - Status: 400, Test Result: PASS \n23:20:35.869 Đang chạy test case #9: TC: Password quá ngắn \n23:20:35.879 karate.env system property was: null \n"},{"result":{"nanos":348500,"startTime":1750522835881,"endTime":1750522835881,"millis":0.3485,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":548900,"startTime":1750522835881,"endTime":1750522835882,"millis":0.5489,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":94545700,"startTime":1750522835882,"endTime":1750522835977,"millis":94.5457,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.884 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 41\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"12\"\n}\n\n\n23:20:35.976 response time in milliseconds: 92\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-Uxa4KDmC\/7buSERuYCHkZ+t2mYY\"\n1 < Date: Sat, 21 Jun 2025 16:20:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.974Z\"\n}\n\n\n"},{"result":{"nanos":203900,"startTime":1750522835977,"endTime":1750522835977,"millis":0.2039,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":114200,"startTime":1750522835977,"endTime":1750522835977,"millis":0.1142,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":432200,"startTime":1750522835977,"endTime":1750522835977,"millis":0.4322,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:35.977 [print] Calling login API với email: nam@gmail.com password: 12 \n"},{"result":{"nanos":365500,"startTime":1750522835977,"endTime":1750522835977,"millis":0.3655,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:35.978 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:35.974Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":101.1485,"startTime":1750522835876,"failed":false,"refId":"[1:3]","endTime":1750522835978,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":100.7041,"callArg":{"email":"nam@gmail.com","password":"verylongpasswordthatexceedsthenormallimitsforpasswordlengthvalidationwhichshouldnotbeaccepted123456789"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2305600,"startTime":1750522835985,"endTime":1750522835987,"millis":2.3056,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:35.979 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:35.979 ✅ TEST PASSED - All validations passed \n23:20:35.980 Test Case Data: {\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"12\",\n  \"expectedStatus\": \"401\",\n  \"expectedResult\": \"Password must be between X and Y characters\",\n  \"testDescription\": \"TC: Password quá ngắn\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.269Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:35.980 Expected Status: 401 \n23:20:35.980 Expected Result: Password must be between X and Y characters \n23:20:35.980 Actual Status: 401 \n23:20:35.980 Test Status: PASS \n23:20:35.980 Test case #9 - Status: 401, Test Result: PASS \n23:20:35.981 Đang chạy test case #10: TC: Password quá dài \n23:20:35.987 karate.env system property was: null \n"},{"result":{"nanos":157000,"startTime":1750522835987,"endTime":1750522835987,"millis":0.157,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":250300,"startTime":1750522835988,"endTime":1750522835988,"millis":0.2503,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":97159600,"startTime":1750522835988,"endTime":1750522836085,"millis":97.1596,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:35.990 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 141\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"verylongpasswordthatexceedsthenormallimitsforpasswordlengthvalidationwhichshouldnotbeaccepted123456789\"\n}\n\n\n23:20:36.085 response time in milliseconds: 95\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-REsTK015\/8Cwg+9xLbJLM3PQr60\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.083Z\"\n}\n\n\n"},{"result":{"nanos":149800,"startTime":1750522836086,"endTime":1750522836086,"millis":0.1498,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":83300,"startTime":1750522836086,"endTime":1750522836086,"millis":0.0833,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":390100,"startTime":1750522836086,"endTime":1750522836086,"millis":0.3901,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.086 [print] Calling login API với email: nam@gmail.com password: verylongpasswordthatexceedsthenormallimitsforpasswordlengthvalidationwhichshouldnotbeaccepted123456789 \n"},{"result":{"nanos":208400,"startTime":1750522836086,"endTime":1750522836086,"millis":0.2084,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.086 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.083Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":100.7041,"startTime":1750522835985,"failed":false,"refId":"[1:3]","endTime":1750522836086,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":12.8599,"callArg":{"email":" OR '1'='1","password":"password123"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1622700,"startTime":1750522836097,"endTime":1750522836099,"millis":1.6227,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.087 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:36.089 ✅ TEST PASSED - All validations passed \n23:20:36.089 Test Case Data: {\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"verylongpasswordthatexceedsthenormallimitsforpasswordlengthvalidationwhichshouldnotbeaccepted123456789\",\n  \"expectedStatus\": \"401\",\n  \"expectedResult\": \"Password must be between X and Y characters\",\n  \"testDescription\": \"TC: Password quá dài\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.381Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:36.089 Expected Status: 401 \n23:20:36.089 Expected Result: Password must be between X and Y characters \n23:20:36.089 Actual Status: 401 \n23:20:36.089 Test Status: PASS \n23:20:36.089 Test case #10 - Status: 401, Test Result: PASS \n23:20:36.090 Đang chạy test case #11: TC: SQL Injection trong email \n23:20:36.098 karate.env system property was: null \n"},{"result":{"nanos":126900,"startTime":1750522836098,"endTime":1750522836098,"millis":0.1269,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":272500,"startTime":1750522836098,"endTime":1750522836098,"millis":0.2725,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":8783000,"startTime":1750522836099,"endTime":1750522836108,"millis":8.783,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.100 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 47\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \" OR '1'='1\",\n  \"password\": \"password123\"\n}\n\n\n23:20:36.107 response time in milliseconds: 6\n1 < 400\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 136\n1 < ETag: W\/\"88-B2pmsTUWcT7R1cscLLw6pmHlKw0\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.104Z\"\n}\n\n\n"},{"result":{"nanos":214100,"startTime":1750522836107,"endTime":1750522836107,"millis":0.2141,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":146500,"startTime":1750522836108,"endTime":1750522836108,"millis":0.1465,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":557500,"startTime":1750522836108,"endTime":1750522836109,"millis":0.5575,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.108 [print] Calling login API với email:  OR '1'='1 password: password123 \n"},{"result":{"nanos":1136700,"startTime":1750522836108,"endTime":1750522836109,"millis":1.1367,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.109 [print] Response status: 400 body: {\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.104Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":12.8599,"startTime":1750522836097,"failed":false,"refId":"[1:3]","endTime":1750522836109,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":100.4972,"callArg":{"email":"nam@gmail.com","password":"' OR '1'='1"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":3446100,"startTime":1750522836124,"endTime":1750522836127,"millis":3.4461,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.112 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:36.112 ✅ TEST PASSED - All validations passed \n23:20:36.113 Test Case Data: {\n  \"email\": \" OR '1'='1\",\n  \"password\": \"password123\",\n  \"expectedStatus\": \"400\",\n  \"expectedResult\": \"Invalid input\",\n  \"testDescription\": \"TC: SQL Injection trong email\",\n  \"responseStatus\": \"400\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.399Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:36.113 Expected Status: 400 \n23:20:36.113 Expected Result: Invalid input \n23:20:36.113 Actual Status: 400 \n23:20:36.113 Test Status: PASS \n23:20:36.114 Test case #11 - Status: 400, Test Result: PASS \n23:20:36.115 Đang chạy test case #12: TC: SQL Injection trong password \n23:20:36.126 karate.env system property was: null \n"},{"result":{"nanos":152100,"startTime":1750522836127,"endTime":1750522836127,"millis":0.1521,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":256700,"startTime":1750522836127,"endTime":1750522836127,"millis":0.2567,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":95215600,"startTime":1750522836127,"endTime":1750522836222,"millis":95.2156,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.128 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 50\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"' OR '1'='1\"\n}\n\n\n23:20:36.222 response time in milliseconds: 93\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-MNvb7nrAUL2tQSP4FyM4BEfQlHs\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.220Z\"\n}\n\n\n"},{"result":{"nanos":217100,"startTime":1750522836222,"endTime":1750522836222,"millis":0.2171,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":89300,"startTime":1750522836222,"endTime":1750522836222,"millis":0.0893,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":782900,"startTime":1750522836222,"endTime":1750522836223,"millis":0.7829,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.224 [print] Calling login API với email: nam@gmail.com password: ' OR '1'='1 \n"},{"result":{"nanos":337400,"startTime":1750522836224,"endTime":1750522836224,"millis":0.3374,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.224 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.220Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":100.4972,"startTime":1750522836124,"failed":false,"refId":"[1:3]","endTime":1750522836225,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":11.619,"callArg":{"email":"<script>alert(\"xss\")<\/script>@test.com","password":"password123"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2866200,"startTime":1750522836232,"endTime":1750522836235,"millis":2.8662,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.226 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:36.226 ✅ TEST PASSED - All validations passed \n23:20:36.226 Test Case Data: {\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"' OR '1'='1\",\n  \"expectedStatus\": \"401\",\n  \"expectedResult\": \"Invalid input\",\n  \"testDescription\": \"TC: SQL Injection trong password\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.511Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:36.227 Expected Status: 401 \n23:20:36.227 Expected Result: Invalid input \n23:20:36.227 Actual Status: 401 \n23:20:36.227 Test Status: PASS \n23:20:36.227 Test case #12 - Status: 401, Test Result: PASS \n23:20:36.227 Đang chạy test case #13: TC: XSS trong email \n23:20:36.234 karate.env system property was: null \n"},{"result":{"nanos":199100,"startTime":1750522836236,"endTime":1750522836236,"millis":0.1991,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":393000,"startTime":1750522836236,"endTime":1750522836236,"millis":0.393,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":6691900,"startTime":1750522836237,"endTime":1750522836244,"millis":6.6919,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.238 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 78\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"<script>alert(\\\"xss\\\")<\/script>@test.com\",\n  \"password\": \"password123\"\n}\n\n\n23:20:36.244 response time in milliseconds: 4\n1 < 400\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 136\n1 < ETag: W\/\"88-s9L6ZK7QGXAZ+u\/Fk8uDToL5kbw\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.241Z\"\n}\n\n\n"},{"result":{"nanos":120900,"startTime":1750522836244,"endTime":1750522836244,"millis":0.1209,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":60700,"startTime":1750522836244,"endTime":1750522836244,"millis":0.0607,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":434600,"startTime":1750522836244,"endTime":1750522836244,"millis":0.4346,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.245 [print] Calling login API với email: <script>alert(\"xss\")<\/script>@test.com password: password123 \n"},{"result":{"nanos":852600,"startTime":1750522836245,"endTime":1750522836246,"millis":0.8526,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.245 [print] Response status: 400 body: {\n  \"success\": false,\n  \"statusCode\": 400,\n  \"message\": \"Dữ liệu không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.241Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":11.619,"startTime":1750522836232,"failed":false,"refId":"[1:3]","endTime":1750522836245,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":97.8607,"callArg":{"email":"nam@gmail.com","password":"<script>alert(\"xss\")<\/script>"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2877400,"startTime":1750522836257,"endTime":1750522836260,"millis":2.8774,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.247 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:36.247 ✅ TEST PASSED - All validations passed \n23:20:36.248 Test Case Data: {\n  \"email\": \"<script>alert(\\\"xss\\\")<\/script>@test.com\",\n  \"password\": \"password123\",\n  \"expectedStatus\": \"400\",\n  \"expectedResult\": \"Invalid input\",\n  \"testDescription\": \"TC: XSS trong email\",\n  \"responseStatus\": \"400\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":400,\\\"message\\\":\\\"Dữ liệu không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.530Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:36.248 Expected Status: 400 \n23:20:36.248 Expected Result: Invalid input \n23:20:36.248 Actual Status: 400 \n23:20:36.248 Test Status: PASS \n23:20:36.248 Test case #13 - Status: 400, Test Result: PASS \n23:20:36.248 Đang chạy test case #14: TC: XSS trong password \n23:20:36.258 karate.env system property was: null \n"},{"result":{"nanos":349400,"startTime":1750522836260,"endTime":1750522836260,"millis":0.3494,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":542400,"startTime":1750522836260,"endTime":1750522836261,"millis":0.5424,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":93335700,"startTime":1750522836261,"endTime":1750522836354,"millis":93.3357,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.262 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 71\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"<script>alert(\\\"xss\\\")<\/script>\"\n}\n\n\n23:20:36.354 response time in milliseconds: 92\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-GjVe0\/MfszumqY0fI5oWwI5WJtk\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.352Z\"\n}\n\n\n"},{"result":{"nanos":129800,"startTime":1750522836355,"endTime":1750522836355,"millis":0.1298,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":58600,"startTime":1750522836355,"endTime":1750522836355,"millis":0.0586,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":355900,"startTime":1750522836355,"endTime":1750522836355,"millis":0.3559,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.355 [print] Calling login API với email: nam@gmail.com password: <script>alert(\"xss\")<\/script> \n"},{"result":{"nanos":211500,"startTime":1750522836355,"endTime":1750522836355,"millis":0.2115,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.355 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.352Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":97.8607,"startTime":1750522836256,"failed":false,"refId":"[1:3]","endTime":1750522836355,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":37.481,"callArg":{"email":"brute.force@test.com","password":"wrongpass1"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2535300,"startTime":1750522836361,"endTime":1750522836364,"millis":2.5353,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.356 Could not parse expectedResult as JSON, skipping detailed validation \n23:20:36.356 ✅ TEST PASSED - All validations passed \n23:20:36.356 Test Case Data: {\n  \"email\": \"nam@gmail.com\",\n  \"password\": \"<script>alert(\\\"xss\\\")<\/script>\",\n  \"expectedStatus\": \"401\",\n  \"expectedResult\": \"Invalid input\",\n  \"testDescription\": \"TC: XSS trong password\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.642Z\\\"}\",\n  \"testStatus\": \"PASS\",\n  \"failureReason\": \"All validations passed\"\n}\n \n23:20:36.356 Expected Status: 401 \n23:20:36.356 Expected Result: Invalid input \n23:20:36.356 Actual Status: 401 \n23:20:36.356 Test Status: PASS \n23:20:36.356 Test case #14 - Status: 401, Test Result: PASS \n23:20:36.356 Đang chạy test case #15: TC: Vượt quá số lần thử - lần 1 \n23:20:36.363 karate.env system property was: null \n"},{"result":{"nanos":464400,"startTime":1750522836364,"endTime":1750522836364,"millis":0.4644,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":351700,"startTime":1750522836365,"endTime":1750522836365,"millis":0.3517,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":32070200,"startTime":1750522836365,"endTime":1750522836397,"millis":32.0702,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.366 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 56\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass1\"\n}\n\n\n23:20:36.397 response time in milliseconds: 28\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-qMyZ1lQbflw5HKjnOZnIZrYVXJk\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.395Z\"\n}\n\n\n"},{"result":{"nanos":187100,"startTime":1750522836397,"endTime":1750522836397,"millis":0.1871,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":87800,"startTime":1750522836397,"endTime":1750522836397,"millis":0.0878,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":797300,"startTime":1750522836397,"endTime":1750522836398,"millis":0.7973,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.398 [print] Calling login API với email: brute.force@test.com password: wrongpass1 \n"},{"result":{"nanos":987200,"startTime":1750522836398,"endTime":1750522836399,"millis":0.9872,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.399 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.395Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":37.481,"startTime":1750522836361,"failed":false,"refId":"[1:3]","endTime":1750522836399,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":35.8229,"callArg":{"email":"brute.force@test.com","password":"wrongpass2"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1406600,"startTime":1750522836407,"endTime":1750522836408,"millis":1.4066,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.402 ❌ TEST FAILED - Status mismatch: Expected 429, got 401 \n23:20:36.402 Test Case Data: {\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass1\",\n  \"expectedStatus\": 429.0,\n  \"expectedResult\": \"Too many login attempts\",\n  \"testDescription\": \"TC: Vượt quá số lần thử - lần 1\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.685Z\\\"}\",\n  \"testStatus\": \"FAIL\",\n  \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n}\n \n23:20:36.402 Expected Status: 429.0 \n23:20:36.402 Expected Result: Too many login attempts \n23:20:36.402 Actual Status: 401 \n23:20:36.402 Test Status: FAIL \n23:20:36.403 Test case #15 - Status: 401, Test Result: FAIL \n23:20:36.403 Đang chạy test case #16: TC: Vượt quá số lần thử - lần 2 \n23:20:36.408 karate.env system property was: null \n"},{"result":{"nanos":151200,"startTime":1750522836408,"endTime":1750522836408,"millis":0.1512,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":536600,"startTime":1750522836408,"endTime":1750522836409,"millis":0.5366,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":32801300,"startTime":1750522836409,"endTime":1750522836442,"millis":32.8013,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.410 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 56\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass2\"\n}\n\n\n23:20:36.441 response time in milliseconds: 31\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-aknphx703LG3bPJaYMkxtMCRYKE\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.439Z\"\n}\n\n\n"},{"result":{"nanos":183600,"startTime":1750522836441,"endTime":1750522836441,"millis":0.1836,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":98500,"startTime":1750522836442,"endTime":1750522836442,"millis":0.0985,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":378700,"startTime":1750522836442,"endTime":1750522836442,"millis":0.3787,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.442 [print] Calling login API với email: brute.force@test.com password: wrongpass2 \n"},{"result":{"nanos":266400,"startTime":1750522836442,"endTime":1750522836442,"millis":0.2664,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.442 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.439Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":35.8229,"startTime":1750522836407,"failed":false,"refId":"[1:3]","endTime":1750522836442,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":41.4065,"callArg":{"email":"brute.force@test.com","password":"wrongpass3"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2949900,"startTime":1750522836451,"endTime":1750522836454,"millis":2.9499,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.444 ❌ TEST FAILED - Status mismatch: Expected 429, got 401 \n23:20:36.444 Test Case Data: {\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass2\",\n  \"expectedStatus\": 429.0,\n  \"expectedResult\": \"Too many login attempts\",\n  \"testDescription\": \"TC: Vượt quá số lần thử - lần 2\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.734Z\\\"}\",\n  \"testStatus\": \"FAIL\",\n  \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n}\n \n23:20:36.444 Expected Status: 429.0 \n23:20:36.444 Expected Result: Too many login attempts \n23:20:36.444 Actual Status: 401 \n23:20:36.444 Test Status: FAIL \n23:20:36.444 Test case #16 - Status: 401, Test Result: FAIL \n23:20:36.445 Đang chạy test case #17: TC: Vượt quá số lần thử - lần 3 \n23:20:36.452 karate.env system property was: null \n"},{"result":{"nanos":320300,"startTime":1750522836454,"endTime":1750522836454,"millis":0.3203,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":696000,"startTime":1750522836455,"endTime":1750522836456,"millis":0.696,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":35988200,"startTime":1750522836455,"endTime":1750522836491,"millis":35.9882,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.457 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 56\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass3\"\n}\n\n\n23:20:36.490 response time in milliseconds: 32\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-o5GuQV5+sW2S1FLCQs60rhe9eLo\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.488Z\"\n}\n\n\n"},{"result":{"nanos":190400,"startTime":1750522836491,"endTime":1750522836491,"millis":0.1904,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":136100,"startTime":1750522836491,"endTime":1750522836491,"millis":0.1361,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":644500,"startTime":1750522836491,"endTime":1750522836492,"millis":0.6445,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.493 [print] Calling login API với email: brute.force@test.com password: wrongpass3 \n"},{"result":{"nanos":481100,"startTime":1750522836493,"endTime":1750522836493,"millis":0.4811,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.493 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.488Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":41.4065,"startTime":1750522836451,"failed":false,"refId":"[1:3]","endTime":1750522836493,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":37.7536,"callArg":{"email":"brute.force@test.com","password":"wrongpass4"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2315300,"startTime":1750522836501,"endTime":1750522836503,"millis":2.3153,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.495 ❌ TEST FAILED - Status mismatch: Expected 429, got 401 \n23:20:36.495 Test Case Data: {\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass3\",\n  \"expectedStatus\": 429.0,\n  \"expectedResult\": \"Too many login attempts\",\n  \"testDescription\": \"TC: Vượt quá số lần thử - lần 3\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.781Z\\\"}\",\n  \"testStatus\": \"FAIL\",\n  \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n}\n \n23:20:36.495 Expected Status: 429.0 \n23:20:36.495 Expected Result: Too many login attempts \n23:20:36.495 Actual Status: 401 \n23:20:36.495 Test Status: FAIL \n23:20:36.495 Test case #17 - Status: 401, Test Result: FAIL \n23:20:36.496 Đang chạy test case #18: TC: Vượt quá số lần thử - lần 4 \n23:20:36.502 karate.env system property was: null \n"},{"result":{"nanos":184300,"startTime":1750522836503,"endTime":1750522836503,"millis":0.1843,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":350700,"startTime":1750522836503,"endTime":1750522836503,"millis":0.3507,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":33699700,"startTime":1750522836504,"endTime":1750522836538,"millis":33.6997,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.505 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 56\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass4\"\n}\n\n\n23:20:36.537 response time in milliseconds: 31\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-85fkpwUDEooqA3QIv\/u1gyUpDI8\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.534Z\"\n}\n\n\n"},{"result":{"nanos":195900,"startTime":1750522836537,"endTime":1750522836537,"millis":0.1959,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":87100,"startTime":1750522836537,"endTime":1750522836537,"millis":0.0871,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":552400,"startTime":1750522836537,"endTime":1750522836538,"millis":0.5524,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.537 [print] Calling login API với email: brute.force@test.com password: wrongpass4 \n"},{"result":{"nanos":368200,"startTime":1750522836538,"endTime":1750522836538,"millis":0.3682,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.538 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.534Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":37.7536,"startTime":1750522836501,"failed":false,"refId":"[1:3]","endTime":1750522836538,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1},{"prefixedPath":"classpath:features\/helpers\/login-single-call.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":35.5339,"callArg":{"email":"brute.force@test.com","password":"wrongpass5"},"failedCount":0,"packageQualifiedName":"features.helpers.login-single-call","relativePath":"features\/helpers\/login-single-call.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1578300,"startTime":1750522836546,"endTime":1750522836548,"millis":1.5783,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"def config = karate.call('classpath:karate-config.js')"},"stepLog":"23:20:36.539 ❌ TEST FAILED - Status mismatch: Expected 429, got 401 \n23:20:36.539 Test Case Data: {\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass4\",\n  \"expectedStatus\": 429.0,\n  \"expectedResult\": \"Too many login attempts\",\n  \"testDescription\": \"TC: Vượt quá số lần thử - lần 4\",\n  \"responseStatus\": \"401\",\n  \"result\": \"{\\\"success\\\":false,\\\"statusCode\\\":401,\\\"message\\\":\\\"Thông tin đăng nhập không hợp lệ\\\",\\\"path\\\":\\\"\/auth\/login\\\",\\\"timestamp\\\":\\\"2025-06-21T16:15:06.825Z\\\"}\",\n  \"testStatus\": \"FAIL\",\n  \"failureReason\": \"Status mismatch: Expected 429, got 401\"\n}\n \n23:20:36.539 Expected Status: 429.0 \n23:20:36.539 Expected Result: Too many login attempts \n23:20:36.539 Actual Status: 401 \n23:20:36.539 Test Status: FAIL \n23:20:36.539 Test case #18 - Status: 401, Test Result: FAIL \n23:20:36.541 Đang chạy test case #19: TC: Vượt quá số lần thử - lần 5 \n23:20:36.547 karate.env system property was: null \n"},{"result":{"nanos":106100,"startTime":1750522836547,"endTime":1750522836547,"millis":0.1061,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url config.baseUrl + '\/auth\/login'"}},{"result":{"nanos":170400,"startTime":1750522836547,"endTime":1750522836547,"millis":0.1704,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"request { email: '#(email)', password: '#(password)' }"}},{"result":{"nanos":32899900,"startTime":1750522836547,"endTime":1750522836580,"millis":32.8999,"status":"passed"},"step":{"line":7,"prefix":"When","index":3,"text":"method POST"},"stepLog":"23:20:36.548 request:\n1 > POST http:\/\/localhost:3000\/auth\/login\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 56\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.9)\n1 > Accept-Encoding: gzip,deflate\n{\n  \"email\": \"brute.force@test.com\",\n  \"password\": \"wrongpass5\"\n}\n\n\n23:20:36.580 response time in milliseconds: 31\n1 < 401\n1 < X-Powered-By: Express\n1 < Access-Control-Allow-Origin: *\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 149\n1 < ETag: W\/\"95-o35i+EHI3nJAc5\/g9JKiJeRINxc\"\n1 < Date: Sat, 21 Jun 2025 16:20:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.578Z\"\n}\n\n\n"},{"result":{"nanos":150100,"startTime":1750522836580,"endTime":1750522836580,"millis":0.1501,"status":"passed"},"step":{"line":8,"prefix":"Then","index":4,"text":"def actualStatus = responseStatus"}},{"result":{"nanos":66800,"startTime":1750522836580,"endTime":1750522836580,"millis":0.0668,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"def actualResponse = response"}},{"result":{"nanos":315000,"startTime":1750522836581,"endTime":1750522836581,"millis":0.315,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"print 'Calling login API với email:', email, 'password:', password"},"stepLog":"23:20:36.581 [print] Calling login API với email: brute.force@test.com password: wrongpass5 \n"},{"result":{"nanos":247300,"startTime":1750522836581,"endTime":1750522836581,"millis":0.2473,"status":"passed"},"step":{"line":11,"prefix":"And","index":7,"text":"print 'Response status:', actualStatus, 'body:', actualResponse"},"stepLog":"23:20:36.581 [print] Response status: 401 body: {\n  \"success\": false,\n  \"statusCode\": 401,\n  \"message\": \"Thông tin đăng nhập không hợp lệ\",\n  \"path\": \"\/auth\/login\",\n  \"timestamp\": \"2025-06-21T16:20:36.578Z\"\n}\n \n"}],"executorName":"main","line":3,"name":"Gọi API login với email và password","description":"","durationMillis":35.5339,"startTime":1750522836546,"failed":false,"refId":"[1:3]","endTime":1750522836581,"exampleIndex":-1}],"name":"Login Single Call Helper - Thực hiện một API call login duy nhất","passedCount":1}]},{"result":{"nanos":955300,"startTime":1750522836584,"endTime":1750522836585,"millis":0.9553,"status":"passed"},"step":{"line":127,"prefix":"*","index":3,"text":"def testResults = results"}},{"result":{"nanos":354400,"startTime":1750522836585,"endTime":1750522836585,"millis":0.3544,"status":"passed"},"step":{"comments":["# Đếm số test cases pass\/fail"],"line":130,"prefix":"*","index":4,"text":"def passedTests = []"}},{"result":{"nanos":134500,"startTime":1750522836585,"endTime":1750522836585,"millis":0.1345,"status":"passed"},"step":{"line":131,"prefix":"*","index":5,"text":"def failedTests = []"}},{"result":{"nanos":6125400,"startTime":1750522836586,"endTime":1750522836592,"millis":6.1254,"status":"passed"},"step":{"line":132,"prefix":"*","index":6,"text":"karate.forEach(testResults, function(test) { if (test.testStatus === 'PASS') passedTests.push(test); else failedTests.push(test); })"}},{"result":{"nanos":1236400,"startTime":1750522836592,"endTime":1750522836593,"millis":1.2364,"status":"passed"},"step":{"line":134,"prefix":"*","index":7,"text":"print '=== LOGIN TEST SUMMARY ==='"},"stepLog":"23:20:36.593 [print] === LOGIN TEST SUMMARY === \n"},{"result":{"nanos":826100,"startTime":1750522836593,"endTime":1750522836594,"millis":0.8261,"status":"passed"},"step":{"line":135,"prefix":"*","index":8,"text":"print 'Total test cases: ' + testResults.length"},"stepLog":"23:20:36.594 [print] Total test cases: 19 \n"},{"result":{"nanos":413800,"startTime":1750522836594,"endTime":1750522836594,"millis":0.4138,"status":"passed"},"step":{"line":136,"prefix":"*","index":9,"text":"print 'Passed: ' + passedTests.length"},"stepLog":"23:20:36.594 [print] Passed: 14 \n"},{"result":{"nanos":440500,"startTime":1750522836594,"endTime":1750522836594,"millis":0.4405,"status":"passed"},"step":{"line":137,"prefix":"*","index":10,"text":"print 'Failed: ' + failedTests.length"},"stepLog":"23:20:36.595 [print] Failed: 5 \n"},{"result":{"nanos":9915300,"startTime":1750522836595,"endTime":1750522836605,"millis":9.9153,"status":"passed"},"step":{"line":138,"prefix":"*","index":11,"text":"if (testResults.length > 0) print ('Success rate: ' + Math.round((passedTests.length \/ testResults.length) * 100) + '%')"}},{"result":{"nanos":1926300,"startTime":1750522836605,"endTime":1750522836607,"millis":1.9263,"status":"passed"},"step":{"comments":["# Log failed tests"],"line":141,"prefix":"*","index":12,"text":"if (failedTests.length > 0) karate.forEach(failedTests, function(test, index) { karate.log('❌ Failed test #' + (index + 1) + ': ' + test.failureReason); })"},"stepLog":"23:20:36.606 ❌ Failed test #1: Status mismatch: Expected 429, got 401 \n23:20:36.606 ❌ Failed test #2: Status mismatch: Expected 429, got 401 \n23:20:36.606 ❌ Failed test #3: Status mismatch: Expected 429, got 401 \n23:20:36.606 ❌ Failed test #4: Status mismatch: Expected 429, got 401 \n23:20:36.606 ❌ Failed test #5: Status mismatch: Expected 429, got 401 \n"},{"result":{"nanos":384700,"startTime":1750522836606,"endTime":1750522836606,"millis":0.3847,"status":"passed"},"step":{"line":143,"prefix":"*","index":13,"text":"print 'Hoàn thành tất cả test cases. Đang ghi kết quả vào Excel...'"},"stepLog":"23:20:36.607 [print] Hoàn thành tất cả test cases. Đang ghi kết quả vào Excel... \n"},{"result":{"nanos":142357600,"startTime":1750522836607,"endTime":1750522836749,"millis":142.3576,"status":"passed"},"step":{"comments":["# Ghi kết quả vào Excel"],"line":146,"prefix":"*","index":14,"text":"def writeSuccess = writeToExcel(excelFilePath, sheetName, testResults)"},"stepLog":"23:20:36.748 Lỗi khi ghi Excel file: src\\test\\java\\data\\data.xlsx (The process cannot access the file because it is being used by another process) \n"},{"result":{"nanos":1264500,"startTime":1750522836750,"endTime":1750522836751,"millis":1.2645,"status":"passed"},"step":{"line":147,"prefix":"*","index":15,"text":"if (writeSuccess) karate.log('✅ Đã ghi kết quả vào Excel thành công!')"}},{"result":{"nanos":1396700,"startTime":1750522836750,"endTime":1750522836751,"millis":1.3967,"status":"passed"},"step":{"line":148,"prefix":"*","index":16,"text":"if (!writeSuccess) karate.log('❌ Lỗi khi ghi kết quả vào Excel!')"},"stepLog":"23:20:36.752 ❌ Lỗi khi ghi kết quả vào Excel! \n"},{"result":{"nanos":1512900,"startTime":1750522836752,"endTime":1750522836754,"millis":1.5129,"status":"passed"},"step":{"comments":["# Warning nếu có test cases failed"],"line":151,"prefix":"*","index":17,"text":"if (failedTests.length > 0) karate.log('⚠️ WARNING: ' + failedTests.length + ' out of ' + testResults.length + ' test cases failed')"},"stepLog":"23:20:36.754 ⚠️ WARNING: 5 out of 19 test cases failed \n"}],"executorName":"main","line":13,"name":"Chạy tất cả test cases từ Excel Login sheet","description":"","durationMillis":3045.9545,"startTime":1750522833524,"failed":false,"refId":"[1:13]","endTime":1750522836754,"exampleIndex":-1}],"callDepth":0,"name":"Login Testing từ Excel - Sheet Login","description":"","resultDate":"2025-06-21 11:20:36 PM","durationMillis":3045.9545,"passedCount":1}